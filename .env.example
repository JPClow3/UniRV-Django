# ============================================
# AgroHub Environment Variables Reference
# ============================================
# NEVER COMMIT THIS FILE IF FILLED WITH REAL SECRETS!
# Usage:
#   cp .env.example .env           # for any environment
#   cp .env.development .env       # for local development
#   cp .env.docker .env            # for Docker deployment
#
# Uncomment/modify sections based on your environment.
# See ENVIRONMENT_SETUP.md for complete guide.

# ============================================
# REQUIRED - All environments
# ============================================

# Django secret key (MUST be unique per environment!)
# Generate: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# Dev uses insecure key for speed; production MUST use strong random key
SECRET_KEY=django-insecure-dev-key-change-in-production

# Debug mode: True=development, False=production/staging
DJANGO_DEBUG=True

# Allowed hosts (comma-separated)
# Dev: localhost,127.0.0.1,[::1]
# Staging: staging.domain.com,www-staging.domain.com
# Production: domain.com,www.domain.com
ALLOWED_HOSTS=localhost,127.0.0.1,[::1]

# Site URL (used for absolute links in emails)
# Dev: http://localhost:8000
# Staging/Production: https://your-domain.com
SITE_URL=http://localhost:8000

# ============================================
# DATABASE (PostgreSQL REQUIRED)
# ============================================
# Option A: Single URL (recommended, takes precedence)
# Dev:     DATABASE_URL=postgresql://postgres:postgres@localhost:5432/agrohub_dev
# Docker:  DATABASE_URL=postgresql://agrohub_user:password@db:5432/agrohub_production
# Prod:    DATABASE_URL=postgresql://user:password@db.example.com:5432/agrohub_prod
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/agrohub_dev

# Option B: Individual variables (used if DATABASE_URL is empty)
# DB_NAME=agrohub_dev
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_HOST=localhost
# DB_PORT=5432

# ============================================
# REDIS CACHE (Recommended)
# ============================================
# Option A: Single URL (recommended, takes precedence)
# Dev:     REDIS_URL=redis://localhost:6379/1
# Docker:  REDIS_URL=redis://redis:6379/0
# Prod:    REDIS_URL=redis://:password@redis.example.com:6379/0
REDIS_URL=redis://localhost:6379/1

# Option B: Individual variables (used if REDIS_URL is empty)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_MAX_CONNECTIONS=50

# Cache version (increment to force cache purge on deploy)
CACHE_VERSION=1

# ============================================
# EMAIL BACKEND
# ============================================
# Dev:      EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# Docker:   EMAIL_BACKEND=anymail.backends.mailersend.EmailBackend
# Staging:  EMAIL_BACKEND=anymail.backends.mailersend.EmailBackend
# Production: EMAIL_BACKEND=anymail.backends.mailersend.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP Backend (less recommended, for simple setups only)
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@example.com
# EMAIL_HOST_PASSWORD=your-app-password

# MailerSend (recommended for production)
# MAILERSEND_API_TOKEN=mlsn_your_token_here
# ANYMAIL_WEBHOOK_SECRET=your-webhook-secret

# Default sender
DEFAULT_FROM_EMAIL=noreply@agrohub.unirv.edu.br

# ============================================
# CELERY - Async Tasks
# ============================================
# Dev:      USE_CELERY=False
# Docker:   USE_CELERY=True
# Production: USE_CELERY=True
USE_CELERY=False

# Celery broker/result backend (defaults to REDIS_URL if empty)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================
# LOGGING
# ============================================
# Log level: DEBUG (dev) → INFO (staging) → WARNING (production)
DJANGO_LOG_LEVEL=DEBUG

# Log to file (false for dev, true for production)
DJANGO_LOG_TO_FILE=False
# DJANGO_LOG_DIR=/app/logs

# ============================================
# FRONTEND & STATIC FILES
# ============================================
# Tailwind CSS compilation
# Dev:       TAILWIND_COMPILE_ON_THE_FLY=True  (on-the-fly)
# Production: TAILWIND_COMPILE_ON_THE_FLY=False (pre-compiled)
TAILWIND_COMPILE_ON_THE_FLY=True

# Static file cache (seconds)
# Dev:       WHITENOISE_MAX_AGE=0         (no cache)
# Production: WHITENOISE_MAX_AGE=31536000 (1 year)
WHITENOISE_MAX_AGE=0

# ============================================
# GUNICORN (Docker/Production only)
# ============================================
# Auto: 0 (uses 2 * CPU_cores + 1)
# Small VPS: 3-5 workers
# Medium VPS: 9 workers
# GUNICORN_WORKERS=0

# ============================================
# OPTIONAL - CDN & Performance
# ============================================
# CDN_BASE_URL=https://cdn.example.com/static/
# COOKIE_DOMAIN=.example.com

# ============================================
# OPTIONAL - Debugging
# ============================================
# Enable Django Silk profiling (NEVER in production)
# Only for staging when debugging performance
ENABLE_SILK=False

# ============================================
# OPTIONAL - Partners
# ============================================
# PARTNERS=SENAI,SEBRAE,FAPEG,FINEP,UNIRV,INOVALAB

# ============================================
# QUICK SETUP REFERENCE
# ============================================
# Local Development:
#   DJANGO_DEBUG=True
#   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/agrohub_dev
#   REDIS_URL=redis://localhost:6379/1
#   EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
#   TAILWIND_COMPILE_ON_THE_FLY=True
#   USE_CELERY=False
#
# Docker Production:
#   DJANGO_DEBUG=False
#   DATABASE_URL=postgresql://agrohub_user:PASSWORD@db:5432/agrohub_production
#   REDIS_URL=redis://redis:6379/0
#   EMAIL_BACKEND=anymail.backends.mailersend.EmailBackend
#   MAILERSEND_API_TOKEN=mlsn_xxx
#   TAILWIND_COMPILE_ON_THE_FLY=False
#   USE_CELERY=True
#   GUNICORN_WORKERS=5
#
# Platform Deployment (Railway, Heroku, etc.):
#   Set environment variables in platform dashboard
#   Do NOT use .env file; use platform's secrets management
