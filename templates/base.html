<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}YPETEC - Incubadora UniRV{% endblock %}</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block meta_description %}YPETEC - Incubadora de empresas da Universidade de Rio Verde, fomentando inova√ß√£o e empreendedorismo atrav√©s de programas de pr√©-incuba√ß√£o e incuba√ß√£o de startups{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}incubadora, startups, empreendedorismo, UniRV, inova√ß√£o, editais, fomento{% endblock %}">
    <meta name="author" content="UniRV - Universidade de Rio Verde">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="{% block og_title %}{% block title_og %}YPETEC - Incubadora UniRV{% endblock %}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Incubadora de empresas da Universidade de Rio Verde, fomentando inova√ß√£o e empreendedorismo{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:site_name" content="YPETEC - Incubadora UniRV">
    {% load static %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="min-h-screen flex flex-col bg-gray-50 {% if request.resolver_match.url_name == 'edital_detail' or request.resolver_match.url_name == 'edital_detail_slug' %}page-detail{% endif %}">

<!-- Skip to main content link for accessibility (only on list pages) -->
{% if request.resolver_match.url_name != 'edital_detail' and request.resolver_match.url_name != 'edital_detail_slug' %}
<a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
{% endif %}

<header class="site-header bg-white shadow-sm sticky top-0 z-50 border-b border-gray-200 relative w-full full-bleed">
    <div class="absolute top-0 left-0 right-0 w-full bg-gradient-to-r from-blue-600 to-green-500" style="height: 4px; z-index: 1;"></div>
    <nav class="relative z-10 site-nav">
        <div class="flex justify-between items-center h-16" style="width: 100%; max-width: 1280px; margin: 0 auto; gap: 2rem; flex-wrap: nowrap;">
            <!-- Logo -->
            <a href="{% url 'home' %}" class="flex items-center gap-3 flex-shrink-0" aria-label="YPETEC - Incubadora UniRV" style="white-space: nowrap; margin-right: auto;">
                <div class="w-10 h-10 rounded flex items-center justify-center bg-gradient-to-br from-blue-600 to-blue-700 flex-shrink-0">
                    <span class="text-white font-bold">Y</span>
                </div>
                <div class="flex-shrink-0">
                    <div class="font-bold text-blue-600 text-lg tracking-tight whitespace-nowrap">YPETEC</div>
                    <div class="text-xs text-gray-500 whitespace-nowrap">Incubadora UniRV</div>
                </div>
            </a>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center gap-6 flex-shrink-0" style="white-space: nowrap; flex-wrap: nowrap; margin-left: auto;">
                <a href="{% url 'home' %}" class="nav-link transition-colors font-medium text-sm whitespace-nowrap flex-shrink-0 {% if request.resolver_match.url_name == 'home' %}text-blue-600{% else %}text-gray-700 hover:text-blue-600{% endif %}">
                    In√≠cio
                </a>
                <a href="{% url 'editais_index' %}" class="nav-link transition-colors font-medium text-sm whitespace-nowrap flex-shrink-0 {% if request.resolver_match.url_name == 'editais_index' %}text-blue-600{% else %}text-gray-700 hover:text-blue-600{% endif %}">
                    Editais
                </a>
                <a href="{% url 'projetos_aprovados' %}" class="nav-link transition-colors font-medium text-sm whitespace-nowrap flex-shrink-0 {% if request.resolver_match.url_name == 'projetos_aprovados' %}text-blue-600{% else %}text-gray-700 hover:text-blue-600{% endif %}">
                    Projetos Aprovados
                </a>
                <a href="{% url 'comunidade' %}" class="nav-link transition-colors font-medium text-sm whitespace-nowrap flex-shrink-0 {% if request.resolver_match.url_name == 'comunidade' %}text-blue-600{% else %}text-gray-700 hover:text-blue-600{% endif %}">
                    Comunidade
                </a>
                <a href="{% url 'passo_a_passo' %}" class="nav-link transition-colors font-medium text-sm whitespace-nowrap flex-shrink-0 {% if request.resolver_match.url_name == 'passo_a_passo' %}text-blue-600{% else %}text-gray-700 hover:text-blue-600{% endif %}">
                    Como Participar
                </a>
                {% if user.is_authenticated %}
                <a href="{% url 'dashboard_home' %}" class="nav-cta px-6 py-2.5 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-full hover:from-green-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg font-medium text-sm whitespace-nowrap flex-shrink-0">
                    DASHBOARD
                </a>
                {% else %}
                <a href="{% url 'login' %}" class="nav-cta px-6 py-2.5 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-full hover:from-green-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg font-medium text-sm whitespace-nowrap flex-shrink-0">
                    LOGIN
                </a>
                {% endif %}
            </div>

            <!-- Mobile menu button -->
            <button class="mobile-menu-toggle md:hidden p-2" aria-label="Abrir menu de navega√ß√£o" aria-expanded="false" aria-controls="navbar-menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>

        <!-- Mobile Navigation -->
        <div class="navbar-right md:hidden" id="navbar-menu">
            <ul class="flex flex-col">
                <li><a href="{% url 'home' %}" class="nav-link block px-4 py-2 {% if request.resolver_match.url_name == 'home' %}text-blue-600 bg-blue-50{% else %}text-gray-700 hover:bg-gray-50{% endif %}">In√≠cio</a></li>
                <li><a href="{% url 'editais_index' %}" class="nav-link block px-4 py-2 {% if request.resolver_match.url_name == 'editais_index' %}text-blue-600 bg-blue-50{% else %}text-gray-700 hover:bg-gray-50{% endif %}">Editais</a></li>
                <li><a href="{% url 'projetos_aprovados' %}" class="nav-link block px-4 py-2 {% if request.resolver_match.url_name == 'projetos_aprovados' %}text-blue-600 bg-blue-50{% else %}text-gray-700 hover:bg-gray-50{% endif %}">Projetos Aprovados</a></li>
                <li><a href="{% url 'comunidade' %}" class="nav-link block px-4 py-2 {% if request.resolver_match.url_name == 'comunidade' %}text-blue-600 bg-blue-50{% else %}text-gray-700 hover:bg-gray-50{% endif %}">Comunidade</a></li>
                <li><a href="{% url 'passo_a_passo' %}" class="nav-link block px-4 py-2 {% if request.resolver_match.url_name == 'passo_a_passo' %}text-blue-600 bg-blue-50{% else %}text-gray-700 hover:bg-gray-50{% endif %}">Como Participar</a></li>
                <li>
                    {% if user.is_authenticated %}
                    <a href="{% url 'dashboard_home' %}" class="nav-cta block mx-4 mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg text-center hover:bg-blue-700 transition-colors">
                        Dashboard
                    </a>
                    {% else %}
                    <a href="{% url 'login' %}" class="nav-cta block mx-4 mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg text-center hover:bg-blue-700 transition-colors">
                        Login
                    </a>
                    {% endif %}
                </li>
            </ul>
        </div>
    </nav>
</header>

<main class="flex-1 w-full" style="width: 100%; margin: 0; padding: 0;">
    <div style="width: 100%; margin: 0; padding: 0;">
        {% block breadcrumb %}{% endblock %}
        <div class="content-area" id="main-content" style="width: 100%;">
        {% if messages %}
            <div class="messages" role="alert" aria-live="polite" style="display: none;">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}" data-message-tag="{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
            <script>
                // Convert Django messages to toast notifications (T046 - Complete integration)
                (function() {
                    // Wait for showToast function to be available
                    function processMessages() {
                        const messages = document.querySelectorAll('.messages .alert');
                        if (messages.length === 0) return;
                        
                        // If showToast is not available yet, wait a bit
                        if (typeof showToast !== 'function') {
                            setTimeout(processMessages, 100);
                            return;
                        }
                        
                        messages.forEach(function(messageEl) {
                            const messageText = messageEl.textContent.trim();
                            const messageTag = messageEl.getAttribute('data-message-tag') || 'info';
                            
                            // Map Django message tags to toast types
                            // Django default tags: debug, info, success, warning, error
                            let toastType = 'success';
                            if (messageTag === 'error' || messageTag === 'danger') {
                                toastType = 'error';
                            } else if (messageTag === 'warning') {
                                toastType = 'warning';
                            } else if (messageTag === 'info' || messageTag === 'debug') {
                                toastType = 'info';
                            } else if (messageTag === 'success') {
                                toastType = 'success';
                            }
                            
                            // Show toast notification
                            showToast(messageText, toastType);
                            
                            // Mark message as processed to avoid duplicates
                            messageEl.setAttribute('data-processed', 'true');
                        });
                    }
                    
                    // Process messages when DOM is ready
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', processMessages);
                    } else {
                        processMessages();
                    }
                })();
            </script>
        {% endif %}

            {% block content %}{% endblock %}
        </div>
    </div>
</main>

<!-- Footer -->
<footer class="site-footer text-white w-full full-bleed" style="background-color: #101828;">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
            <div class="md:col-span-2">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-12 h-12 rounded flex items-center justify-center bg-gradient-to-br from-blue-600 to-blue-700">
                        <span class="text-white font-bold text-lg">Y</span>
                    </div>
                    <div>
                        <div class="font-bold text-xl">YPETEC</div>
                        <div class="text-sm text-gray-400">Incubadora UniRV</div>
                    </div>
                </div>
                <p class="text-gray-400 text-sm leading-relaxed max-w-md">
                    Incubadora de empresas da Universidade de Rio Verde, fomentando inova√ß√£o e empreendedorismo atrav√©s de programas de pr√©-incuba√ß√£o e incuba√ß√£o de startups.
                </p>
            </div>

            <div>
                <h3 class="font-bold mb-6 text-white">Links R√°pidos</h3>
                <ul class="space-y-3">
                    <li>
                        <a href="{% url 'home' %}" class="text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2 group">
                            <span class="w-1.5 h-1.5 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></span>
                            In√≠cio
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'editais_index' %}" class="text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2 group">
                            <span class="w-1.5 h-1.5 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></span>
                            Editais
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'projetos_aprovados' %}" class="text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2 group">
                            <span class="w-1.5 h-1.5 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></span>
                            Projetos Aprovados
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'comunidade' %}" class="text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2 group">
                            <span class="w-1.5 h-1.5 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></span>
                            Comunidade
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'passo_a_passo' %}" class="text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2 group">
                            <span class="w-1.5 h-1.5 bg-green-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></span>
                            Como Participar
                        </a>
                    </li>
                </ul>
            </div>

            <div>
                <h3 class="font-bold mb-6 text-white">Contato</h3>
                <ul class="space-y-4 text-sm text-gray-400">
                    <li>
                        <a href="mailto:ypetec@unirv.edu.br" class="hover:text-white transition-colors flex items-start gap-2">
                            <span class="text-green-500 mt-0.5">‚úâ</span>
                            ypetec@unirv.edu.br
                        </a>
                    </li>
                    <li>
                        <a href="tel:+556298172-9376" class="hover:text-white transition-colors flex items-start gap-2">
                            <span class="text-green-500 mt-0.5">‚òé</span>
                            (62) 98172-9376
                        </a>
                    </li>
                    <li class="pt-2">
                        <a href="https://www.unirv.edu.br" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors flex items-start gap-2">
                            <span class="text-green-500 mt-0.5">üåê</span>
                            www.unirv.edu.br
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="border-t border-gray-800 pt-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-400">
                    ¬© 2025 YpeTec - Incubadora UniRV. Todos os direitos reservados.
                </p>
                <div class="flex gap-4 text-sm text-gray-400">
                    <a href="#" class="hover:text-white transition-colors">Pol√≠tica de Privacidade</a>
                    <span>‚Ä¢</span>
                    <a href="#" class="hover:text-white transition-colors">Termos de Uso</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="{% static 'js/main.js' %}"></script>
</body>
</html>
