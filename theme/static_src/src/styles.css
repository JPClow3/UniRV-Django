@import "tailwindcss";

/**
  * Source paths for Tailwind CSS to scan for class names.
  * Updated to match project structure.
  */
@source "../../../templates/**/*.html";
@source "../../../**/*.py";

/* =====================================================
   FONT DEFINITIONS
   ===================================================== */

/* Self-hosted Inter font - clean, modern body text */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: url('/static/fonts/Inter-Light.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/static/fonts/Inter-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/static/fonts/Inter-Medium.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('/static/fonts/Inter-SemiBold.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/static/fonts/Inter-Bold.woff2') format('woff2');
}

/* Self-hosted Montserrat font - display/headings */
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  size-adjust: 100.06%;
  src: url('/static/fonts/Montserrat-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  size-adjust: 100.06%;
  src: url('/static/fonts/Montserrat-SemiBold.ttf') format('truetype');
}

@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  size-adjust: 100.06%;
  src: url('/static/fonts/Montserrat-Bold.ttf') format('truetype');
}

@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 800;
  font-display: swap;
  size-adjust: 100.06%;
  src: url('/static/fonts/Montserrat-ExtraBold.ttf') format('truetype');
}

/* Note: FontAwesome font-display optimization is handled via preload link in base.html */
/* CDN @font-face rules cannot be overridden, but preloading helps with font loading performance */

/* =====================================================
   THEME TOKENS - Modern Design System
   ===================================================== */
@theme {
  /* Primary brand colors - modernized palette */
  --color-primary: #2563EB;           /* Bright blue - main brand color */
  --color-primary-hover: #1d4ed8;     /* Primary hover state */
  --color-secondary: #22c55e;         /* Green for agro - accent color */
  --color-darkblue: #1e3a8a;          /* Deep blue for hero/footer */

  /* Legacy color aliases for backward compatibility */
  --color-unirvBlue: #2563EB;         /* Maps to new primary */
  --color-agrohubBlue: #1d4ed8;       /* Maps to primary-hover */
  --color-agrohubGreen: #22c55e;      /* Same as secondary */
  --color-darkBlue: #1e3a8a;          /* Same as darkblue */

  /* Extended green palette */
  --color-green: #10b981;
  --color-green-light: #34d399;
  --color-green-dark: #059669;

  /* Surface colors for light theme */
  --color-background-light: #F8FAFC;
  --color-surface-light: #FFFFFF;

  /* Text colors */
  --color-text-light: #1E293B;
  --color-text-muted: #64748B;
  --color-text-muted-light: #64748B;  /* Alias legado para compatibilidade */

  /* Typography - Inter for body, Montserrat for display */
  --font-family-sans: 'Inter', 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-family-display: 'Montserrat', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-family-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* Border radius scale */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-default: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 24px;
  --radius-full: 999px;

  /* Z-index scale for consistent layering */
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 50;
  --z-modal: 100;
  --z-popover: 200;
  --z-tooltip: 300;
  --z-skip-link: 10000;
}
/* =====================================================
   GLOBAL TYPOGRAPHY
   ===================================================== */
body {
  font-family: 'Inter', 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI',
    system-ui, -system-ui, sans-serif;
  color: var(--color-text-light);
  background-color: var(--color-background-light);
}

/* Display headings use Montserrat */
h1, h2, h3, .font-display {
  font-family: 'Montserrat', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

:root {
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
}

@media (max-width: 767px) {
  html {
    font-size: 17px;
  }
}

@layer components {
  /* Keyframes defined in static/css/animations.css */

  /* Full-bleed utility for full-width sections */
  /* Using calc-based approach to prevent scrollbar issues on Windows/Linux */
  .full-bleed {
    width: 100%;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    max-width: 100vw;
    position: relative;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Prevent horizontal scrollbar with safer containment */
  html {
    overflow-x: hidden;
    max-width: 100vw;
    position: relative;
  }

  body {
    overflow-x: hidden;
    max-width: 100%;
    position: relative;
  }

  .container,
  .editais-grid,
  .startups-grid,
  table {
    max-width: 100%;
    overflow-x: auto;
  }

  /* Page detail styles - minimal styles for detail pages */
  body.page-detail {
    background-color: #f0f2f5;
  }

  .hero-media {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    border: 0;
    z-index: 0;
  }

  .hero-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    filter: saturate(110%);
    transition: transform 0.7s ease;
    aspect-ratio: 1024 / 1024; /* Prevent CLS - matches source image dimensions */
    will-change: transform; /* GPU acceleration hint for scale animation */
  }

  .hero-media::after {
    content: "";
    position: absolute;
    inset: 0;
    /* Updated gradient using new darkblue color */
    background: linear-gradient(90deg, rgba(30, 58, 138, 0.95) 0%, rgba(30, 58, 138, 0.7) 50%, rgba(30, 58, 138, 0.4) 100%);
  }

  .hero-media img.is-loaded {
    transform: scale(1.05);
  }

  /* Page hero overlay (ambientes, editais, startups): subtle gradient overlay */
  .page-hero-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0.06;
    background-image:
      radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.25) 0%, transparent 50%),
      radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.12) 0%, transparent 50%);
  }

  /* Mobile Menu Toggle */
  .mobile-menu-toggle {
    @apply flex flex-col justify-center items-center gap-1 w-10 h-10 p-2 bg-transparent border-none cursor-pointer rounded-lg transition-colors duration-200;
    min-width: 44px; /* WCAG minimum touch target size */
    min-height: 44px; /* WCAG minimum touch target size */
    touch-action: manipulation; /* Optimize touch response, prevent double-tap zoom */
  }

  .mobile-menu-toggle:hover {
    background: rgba(0, 0, 0, 0.05);
  }
  .mobile-menu-toggle:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 3px;
    background: rgba(37, 99, 235, 0.1);
  }

  body.page-detail .mobile-menu-toggle:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  /* Hamburger menu lines */
  .hamburger-line {
    width: 24px;
    height: 3px;
    background-color: #333;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  body.page-detail .hamburger-line {
    background-color: #fff;
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(6px, 6px);
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(2) {
    opacity: 0;
    transform: scale(0);
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(6px, -6px);
  }

  /* Theme toggle button */
  .theme-toggle {
    @apply flex items-center justify-center w-10 h-10 rounded-full border border-gray-200 text-gray-600 transition-all;
    background: white;
  }

  .theme-toggle:hover {
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
    transform: translateY(-1px);
  }

  .theme-toggle:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* Mobile Navigation Menu */
  .navbar-right {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-out, transform 0.3s ease-out;
    background: white;
    border-top: 1px solid #e5e7eb;
    touch-action: pan-y; /* Allow vertical scrolling, prevent horizontal swipe conflicts */
    opacity: 0;
    transform: translateY(-10px);
  }

  body.page-detail .navbar-right {
    background: var(--color-primary);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  body.page-detail .navbar-right .nav-link {
    color: rgba(255, 255, 255, 0.9);
  }

  body.page-detail .navbar-right .nav-link:hover {
    color: white;
    background: rgba(255, 255, 255, 0.1);
  }

  .navbar-right.menu-open {
    max-height: 500px;
    border-top: 1px solid #e5e7eb;
    opacity: 1;
    transform: translateY(0);
  }

  body.page-detail .navbar-right.menu-open {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Button components */
  .btn, button[type="submit"], a.btn {
    padding: 10px 18px;
    border-radius: var(--radius-xl);
    text-decoration: none;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    font-size: 14px;
    min-height: 44px;
  }

  .btn:hover, button[type="submit"]:hover, a.btn:hover {
    transform: scale(1.05);
  }

  .btn:active, button[type="submit"]:active, a.btn:active {
    transform: scale(0.95);
  }

  .btn:focus, button[type="submit"]:focus, a.btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-green), 0 0 0 4px rgba(16, 185, 129, 0.2);
  }

  .btn-primary {
    background-color: var(--color-primary);
    color: white;
  }

  .btn-primary:hover {
    background-color: color-mix(in srgb, var(--color-primary), black 10%);
  }

  .btn-secondary {
    background-color: var(--color-secondary);
    color: white;
  }

  .btn-secondary:hover {
    background-color: color-mix(in srgb, var(--color-secondary), black 10%);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  }

  .btn-success {
    background-color: var(--color-green);
    color: white;
  }

  .btn-success:hover {
    background-color: var(--color-green-dark);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
  }

  .btn-neutral {
    background-color: #6c757d;
    color: white;
  }

  .btn-neutral:hover {
    background-color: #545b62;
  }

  .btn-outline {
    background-color: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
    font-weight: 600;
  }

  .btn-outline:hover {
    background-color: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
  }

  .btn-danger {
    background-color: #dc3545; /* Keep standard danger */
    color: white;
    border: none;
  }

  .btn-danger:hover {
    background-color: #c82333;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
  }

  .nav-cta {
    @apply px-6 py-2.5 rounded-full font-medium text-sm whitespace-nowrap transition-all duration-300 ease-in-out no-underline inline-flex items-center justify-center;
    background-color: var(--color-darkBlue);
    color: #ffffff !important; /* Ensure white text for maximum contrast - WCAG AA compliant */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  /* Ensure nav-cta has good contrast even on transparent headers */
  .site-header.header-transparent .nav-cta,
  .site-header.glass-nav .nav-cta {
    background-color: var(--color-darkBlue) !important;
    color: #ffffff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .nav-cta:hover {
    background-color: var(--color-primary);
    color: #ffffff !important; /* Ensure white text on hover for WCAG AA compliance */
    transform: translateY(-1px);
    box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 2px solid var(--color-green-light);
  }

  /* Global focus-visible styles for interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
  }

  *:focus {
    outline: none;
  }

  .filter-btn:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
    border-color: var(--color-primary);
  }

  .page-meta {
    @apply flex flex-wrap gap-5 mt-4 pt-4 border-t border-gray-200;
  }

  .page-meta-item {
    @apply flex items-center gap-2 text-sm text-gray-700;
  }

  .page-meta-item strong {
    color: var(--color-primary);
    font-weight: 600;
  }

  .page-meta-item.deadline-soon-meta {
    background: #fef2f2;
    padding: 8px 12px;
    border-radius: 6px;
    border-left: 3px solid #dc2626;
  }

  /* Prose styles for content readability */
  .prose {
    color: #1f2937;
    font-size: 16px;
    line-height: 1.75;
    max-width: 65ch;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    color: #0f172a;
    margin-top: 1.5em;
    margin-bottom: 0.75em;
    font-weight: 600;
    line-height: 1.3;
  }

  .prose h2 {
    font-size: 1.5rem;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 0.3em;
  }

  .prose h3 {
    font-size: 1.25rem;
  }

  .prose p {
    margin-bottom: 1.25em;
    line-height: 1.75;
  }

  .prose ul,
  .prose ol {
    margin: 1em 0 1.25em 1.5em;
    line-height: 1.75;
  }

  .prose li {
    margin-bottom: 0.5em;
  }

  .prose a {
    color: #1e3a8a;
    text-decoration: none;
    transition: color 0.2s, text-decoration-color 0.2s;
    font-weight: 500;
  }

  .prose a:hover {
    color: var(--color-green-dark);
    text-decoration: underline;
    text-decoration-color: var(--color-green);
  }

  .prose strong {
    font-weight: 600;
    color: #111827;
  }

  @media (min-width: 768px) {
    .prose {
      font-size: 18px;
      line-height: 1.8;
    }
  }

  /* History section */
  .history-section {
    margin: 40px 0;
    padding: 24px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
  }

  .history-section h3 {
    font-size: 20px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 20px;
  }

  .history-list {
    @apply flex flex-col gap-4;
  }

  .history-item {
    @apply bg-white p-4 rounded-lg border-l-4 border-gray-600;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .history-header {
    @apply flex items-center gap-3 mb-3 flex-wrap;
  }

  .history-action {
    @apply px-3 py-1 rounded-full text-xs font-semibold uppercase;
  }

  .history-action.history-create {
    background-color: #d1fae5;
    color: #065f46;
  }

  .history-action.history-update {
    background-color: #dbeafe;
    color: #1e40af;
  }

  .history-action.history-delete {
    background-color: #fee2e2;
    color: #991b1b;
  }

  .history-user {
    color: #4b5563; /* Darkened from #6b7280 for WCAG AA contrast (4.5:1) */
    font-size: 14px;
  }

  .history-time {
    color: #6b7280; /* Darkened from #9ca3af for WCAG AA contrast (4.5:1) */
    font-size: 13px;
    margin-left: auto;
  }

  .history-changes {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid #e5e7eb;
  }

  .history-change-item {
    @apply flex items-center gap-2 mb-2 text-sm flex-wrap;
  }

  .history-change-item .old-value {
    color: #ef4444;
    text-decoration: line-through;
    padding: 2px 6px;
    background: #fee2e2;
    border-radius: 4px;
  }

  .history-change-item .new-value {
    color: #10b981;
    padding: 2px 6px;
    background: #d1fae5;
    border-radius: 4px;
  }

  /* Disclaimer and activity info */
  .disclaimer {
    background: #f9fafb;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 24px 0;
    font-size: 14px;
    color: #374151;
    border-left: 4px solid var(--color-secondary);
  }

  .activity-info {
    background: #f9fafb;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 24px 0;
    font-size: 13px;
    color: #4b5563; /* Darkened from #6b7280 for WCAG AA contrast */
    border: 1px solid #e5e7eb;
  }

  /* Toast Container */
  .toast-container {
    @apply fixed bottom-4 right-4 z-50 flex flex-col gap-3;
    max-width: 400px;
  }

  /* Toasts */
  .toast {
    @apply bg-white border border-gray-200 rounded-xl shadow-xl transform translate-x-full opacity-0 transition-all duration-300 flex items-start gap-3 p-4;
    min-width: 300px;
  }
  .toast.show {
    @apply translate-x-0 opacity-100;
  }
  .toast-content {
    @apply flex items-start gap-3 flex-1;
  }
  .toast-icon {
    @apply text-lg shrink-0 mt-0.5;
  }
  .toast-message {
    @apply text-gray-900 text-sm flex-1;
  }
  .toast-close {
    @apply text-gray-400 hover:text-gray-600 transition-colors rounded hover:bg-gray-100 shrink-0;
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }
  .toast-success {
    @apply border-green-200 bg-green-50;
  }
  .toast-success .toast-icon {
    @apply text-green-600;
  }
  .toast-error {
    @apply border-red-200 bg-red-50;
  }
  .toast-error .toast-icon {
    @apply text-red-600;
  }
  .toast-warning {
    @apply border-yellow-500 bg-yellow-50;
  }
  .toast-warning .toast-icon {
    @apply text-yellow-600;
  }
  .toast-info {
    @apply border-blue-200 bg-blue-50;
  }
  .toast-info .toast-icon {
    @apply text-blue-600;
  }

  /* Confirmation Dialog */
  .confirm-dialog-overlay {
    @apply fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .confirm-dialog-overlay.show {
    opacity: 1;
  }
  .confirm-dialog {
    @apply bg-white rounded-2xl shadow-2xl max-w-md w-full transform scale-95 transition-transform duration-300;
  }
  .confirm-dialog-overlay.show .confirm-dialog {
    @apply scale-100;
  }
  .confirm-dialog-header {
    @apply p-6 border-b border-gray-200 flex items-start gap-4;
  }
  .confirm-dialog-icon {
    @apply w-12 h-12 rounded-full flex items-center justify-center shrink-0;
  }
  .confirm-dialog-icon-warning {
    @apply bg-yellow-100 text-yellow-600;
  }
  .confirm-dialog-icon-danger {
    @apply bg-red-100 text-red-600;
  }
  .confirm-dialog-icon-info {
    @apply bg-blue-100 text-blue-600;
  }
  .confirm-dialog-icon i {
    @apply text-xl;
  }
  .confirm-dialog-title {
    @apply text-xl font-semibold text-gray-900 flex-1;
  }
  .confirm-dialog-body {
    @apply p-6 text-gray-600;
  }
  .confirm-dialog-footer {
    @apply p-6 border-t border-gray-200 flex justify-end gap-3;
  }
  .confirm-dialog-btn {
    @apply px-6 py-2.5 rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  .confirm-dialog-cancel {
    @apply bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500;
  }
  .confirm-dialog-btn.btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
  }
  .confirm-dialog-btn.btn-primary {
    @apply bg-primary text-white hover:bg-primary/90 focus:ring-primary;
  }

  /* Autosave Indicator - More prominent on mobile */
  .autosave-indicator {
    @apply fixed top-20 md:top-4 right-4 bg-white border border-green-200 shadow-xl rounded-lg px-4 py-3 text-sm text-gray-700 flex items-center gap-2 transform translate-x-full opacity-0 transition-all duration-300 z-50;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }
  .autosave-indicator.visible {
    @apply translate-x-0 opacity-100;
  }
  .autosave-indicator i {
    @apply text-green-500 text-base;
    animation: pulse 2s ease-in-out infinite;
  }
  
  @media (max-width: 767px) {
    .autosave-indicator {
      top: 5.5rem; /* Below header + toast area */
      right: 0.5rem;
      left: 0.5rem;
      max-width: calc(100% - 1rem);
    }
  }

  /* Form Errors */
  .form-group.has-error input,
  .form-group.has-error select,
  .form-group.has-error textarea {
    @apply border-red-500 ring-1 ring-red-500;
  }
  .field-error {
    @apply text-red-500 text-xs mt-1 font-medium;
  }
  .has-date-error {
    @apply border-red-500! ring-1! ring-red-500!;
  }
  
  /* Enhanced date validation feedback - icon appears in form-group wrapper */
  .form-group:has(.has-date-error)::after {
    content: '⚠';
    position: absolute;
    right: 0.75rem;
    top: calc(1.5rem + 0.5rem + 0.875rem); /* label height + margin + half input height */
    transform: translateY(-50%);
    font-size: 1.125rem;
    color: #ef4444;
    pointer-events: none;
    line-height: 1;
    z-index: 10;
  }
  
  /* Fallback for browsers that don't support :has() - use adjacent sibling */
  .form-group.has-error::after {
    content: '⚠';
    position: absolute;
    right: 0.75rem;
    top: calc(1.5rem + 0.5rem + 0.875rem);
    transform: translateY(-50%);
    font-size: 1.125rem;
    color: #ef4444;
    pointer-events: none;
    line-height: 1;
    z-index: 10;
  }
  
  input[type="date"].has-date-error,
  select.has-date-error {
    padding-right: 2.75rem;
  }

  /* Search & Grid */
  .search-input-wrapper {
    @apply relative;
  }
  .search-input-wrapper.searching input {
    @apply pr-10;
  }
  .search-clear {
    @apply absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer p-1 hidden;
  }
  .editais-grid {
    @apply transition-opacity duration-300;
  }
  .editais-grid.loading {
    @apply opacity-50 pointer-events-none;
  }
  .editais-grid.fade-in {
    @apply animate-pulse;
  }
  
  /* Loading Button State */
  .btn.loading {
    @apply opacity-75 cursor-not-allowed relative;
  }
  .btn-loading {
    @apply hidden;
  }

  /* Back to Top Button */
  .back-to-top {
    @apply fixed w-12 h-12 rounded-full border-none cursor-pointer flex items-center justify-center text-lg transition-all duration-300 ease-in-out;
    min-width: 44px; /* WCAG minimum touch target size */
    min-height: 44px; /* WCAG minimum touch target size */
    touch-action: manipulation; /* Optimize touch response */
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
    color: white;
    box-shadow: 0 4px 12px rgba(10, 37, 88, 0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    z-index: 40; /* Below mobile menu (z-50) but above content */
    /* Position with safe area insets for iOS devices */
    bottom: max(2rem, env(safe-area-inset-bottom, 2rem));
    right: max(2rem, env(safe-area-inset-right, 2rem));
  }

  .back-to-top:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(10, 37, 88, 0.4);
  }

  .back-to-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .back-to-top:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5), 0 4px 12px rgba(10, 37, 88, 0.3);
  }

  @media (max-width: 767px) {
    .pagination .page-link,
    .search-clear,
    .toast-close,
    .back-to-top {
      min-width: 44px;
      min-height: 44px;
      /* Ensure back-to-top doesn't overlap with mobile menu when open */
      /* Mobile menu has higher z-index, so back-to-top will be behind it */
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
  }

  /* Form Page Styles */
  .form-page {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8;
  }

  .form-header-modern {
    @apply text-white rounded-2xl p-8 mb-8 shadow-lg;
    background-image: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover));
  }

  .form-header-content {
    @apply flex items-center gap-6;
  }

  .form-header-icon {
    @apply w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl;
  }

  .form-header-text {
    @apply flex-1;
  }

  .form-main-title {
    @apply text-2xl md:text-3xl font-bold mb-2;
  }

  .form-subtitle-modern {
    @apply text-white/80 text-base;
  }

  .styled-form-modern {
    @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8;
  }

  .form-section-modern {
    @apply border-0 p-0 mb-8;
  }

  .section-title-modern {
    @apply text-lg font-bold text-primary flex items-center gap-3 mb-6 pb-3 border-b-2 border-gray-100;
  }

  .form-group {
    @apply mb-6;
    position: relative; /* Required for date error icon positioning */
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  .required-mark {
    @apply text-red-500 ml-1;
  }

  .form-help {
    @apply text-xs text-gray-600 mt-1 block; /* Darkened from gray-500 for WCAG AA */
  }

  .form-help-text {
    @apply bg-blue-50 text-blue-800 px-4 py-3 rounded-lg mb-6 text-sm flex items-center gap-2;
  }

  .form-actions-modern {
    @apply flex flex-wrap gap-4 mt-8 pt-6 border-t border-gray-100;
  }

  .error-summary {
    @apply bg-red-50 border border-red-200 rounded-xl p-6 mb-6;
  }

  .error-summary-title {
    @apply text-red-800 font-bold text-lg flex items-center gap-2 mb-3;
  }

  .error-summary-description {
    @apply text-sm text-red-700 mb-3;
  }

  .error-summary-list {
    @apply list-disc list-inside space-y-1;
  }

  .error-link {
    @apply text-red-700 hover:text-red-900 underline;
  }

  /* Form Inputs */
  .styled-form-modern input[type="text"],
  .styled-form-modern input[type="url"],
  .styled-form-modern input[type="date"],
  .styled-form-modern input[type="email"],
  .styled-form-modern input[type="number"],
  .styled-form-modern select,
  .styled-form-modern textarea {
    @apply w-full px-4 py-3 border border-gray-300 rounded-xl transition-all bg-gray-50 focus:bg-white;
  }
  .styled-form-modern input[type="text"]:focus-visible,
  .styled-form-modern input[type="url"]:focus-visible,
  .styled-form-modern input[type="date"]:focus-visible,
  .styled-form-modern input[type="email"]:focus-visible,
  .styled-form-modern input[type="number"]:focus-visible,
  .styled-form-modern select:focus-visible,
  .styled-form-modern textarea:focus-visible {
    border-color: var(--color-green);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    outline: none;
  }

  .styled-form-modern textarea {
    @apply min-h-32 resize-y;
  }

  .styled-form-modern select {
    @apply appearance-none bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* Search loading indicator */
  .search-input-wrapper {
    position: relative;
  }

  .search-input-wrapper.searching::after {
    content: '';
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    border: 2px solid rgba(59, 130, 246, 0.3);
    border-top-color: #3b82f6;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
  }

  @keyframes spin {
    to { transform: translateY(-50%) rotate(360deg); }
  }

  /* Adjust for clear button */
  .search-input-wrapper.searching .search-clear {
    right: 36px;
  }

  /* Select loading state */
  select.loading {
    opacity: 0.6;
    cursor: wait;
    background-image: 
      url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"),
      url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%233b82f6'%3e%3ccircle cx='8' cy='8' r='6' stroke='%233b82f6' stroke-width='2' fill='none' stroke-dasharray='30' stroke-dashoffset='10'%3e%3canimateTransform attributeName='transform' type='rotate' from='0 8 8' to='360 8 8' dur='1s' repeatCount='indefinite'/%3e%3c/circle%3e%3c/svg%3e");
    background-position: right 0.75rem center, right 2.75rem center;
    background-size: 1.5em 1.5em, 1em 1em;
    padding-right: 4.5rem;
  }

  /* Input focus glow */
  input:focus,
  textarea:focus,
  select:focus {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1),
                0 1px 3px rgba(0, 0, 0, 0.05);
    transition: box-shadow 0.15s ease;
  }

  /* Status Badge */
  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide;
  }

  .status-aberto {
    background-color: #dcfce7;
    color: #14532d;
    border: 1px solid #16a34a;
  }

  .status-fechado {
    @apply bg-gray-100 text-gray-600;
  }

  .status-em_andamento {
    @apply bg-blue-100 text-blue-700;
  }

  .status-suspenso {
    background-color: #fef3c7;
    color: #92400e;
    border: 1px solid #d97706;
  }


  /* Clear Filters Button */
  .clear-filters-btn {
    @apply flex items-center gap-1 transition-colors;
    /* Default styles - can be overridden with Tailwind classes in template */
    color: var(--color-secondary, #22c55e);
  }
  
  .clear-filters-btn:hover:not(.bg-red-500) {
    color: var(--color-primary, #2563EB);
  }

  .clear-filters-btn.loading {
    @apply opacity-50 pointer-events-none;
  }

  /* Project Cards */
  .project-card {
    @apply transition-all duration-200 ease-in-out cursor-default;
    animation: fadeInUp 0.4s ease-out;
    animation-fill-mode: both;
    will-change: transform, opacity;
  }

  .project-card:hover {
    border-color: var(--color-secondary);
  }

  .project-card:nth-child(1) { animation-delay: 0.05s; }
  .project-card:nth-child(2) { animation-delay: 0.1s; }
  .project-card:nth-child(3) { animation-delay: 0.15s; }
  .project-card:nth-child(4) { animation-delay: 0.2s; }
  .project-card:nth-child(5) { animation-delay: 0.25s; }
  .project-card:nth-child(6) { animation-delay: 0.3s; }

  .project-status-badge {
    transition: transform 0.2s ease;
  }

  .project-card:hover .project-status-badge {
    transform: scale(1.05);
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Empty state illustration animation */
  .empty-state-illustration {
    animation: fadeInBounce 0.6s ease-out;
    will-change: transform, opacity;
  }

  .empty-state-illustration svg {
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.08));
  }

  /* Empty state icon animation */
  .empty-state-icon {
    animation: fadeInBounce 0.6s ease-out 0.15s both; /* Slightly delayed after illustration */
    will-change: transform, opacity;
  }

  @keyframes fadeInBounce {
    0% {
      opacity: 0;
      transform: translateY(-20px) scale(0.9);
    }
    50% {
      transform: translateY(5px) scale(1.05);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }


  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ===========================================
     SKELETON LOADING STATES
     Use for: card lists, content areas, data grids
     NOT for: buttons, form submits (use spinner)
     =========================================== */
  .skeleton {
    background: linear-gradient(
      90deg,
      #f0f0f0 0%,
      #f0f0f0 40%,
      #e8e8e8 50%,
      #f0f0f0 60%,
      #f0f0f0 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
    border-radius: 8px;
    will-change: background-position;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Standard skeleton card - use for editais, startups lists */
  .skeleton-card {
    @apply bg-white rounded-xl border border-gray-200 p-6;
    min-height: 200px;
    animation: shimmer 1.5s ease-in-out infinite, pulse 2s ease-in-out infinite;
  }

  /* Skeleton elements */
  .skeleton-title {
    @apply h-6 mb-4;
    width: 70%;
  }

  .skeleton-text {
    @apply h-4 mb-2;
    width: 100%;
  }

  .skeleton-text-short {
    @apply h-4 mb-2;
    width: 60%;
  }

  .skeleton-badge {
    @apply h-6 mb-4 rounded-full;
    width: 100px;
  }

  .skeleton-button {
    @apply h-10 rounded-lg;
    width: 120px;
  }

  .skeleton-avatar {
    @apply rounded-full;
    width: 48px;
    height: 48px;
  }

  .skeleton-image {
    @apply rounded-lg;
    width: 100%;
    aspect-ratio: 16/9;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.95; }
  }

  /* Skeleton grid for multiple cards */
  .skeleton-grid {
    display: grid;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .skeleton-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .skeleton-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Edital Card improvements */
  .edital-card {
    position: relative;
  }

  .edital-card,
  .startup-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .edital-card:hover,
  .startup-card:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
  }

  .edital-card .fas,
  .edital-card i {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .edital-card h3 {
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  /* ===========================================
     STANDARDIZED LOADING STATES
     Use skeleton for: card lists, content areas
     Use spinner for: buttons, inline actions, form submits
     =========================================== */

  /* Loading spinner - use for buttons and inline actions */
  .loading-spinner {
    border: 3px solid #f3f3f3;
    border-top: 3px solid var(--color-secondary);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin-loader 1s linear infinite;
  }

  /* Small spinner variant for buttons */
  .loading-spinner-sm {
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid currentColor;
    border-radius: 50%;
    width: 16px;
    height: 16px;
    animation: spin-loader 0.8s linear infinite;
  }

  /* Inline spinner for text/buttons */
  .loading-spinner-inline {
    display: inline-block;
    width: 14px;
    height: 14px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin-loader 0.8s linear infinite;
    vertical-align: middle;
    margin-right: 6px;
  }

  @keyframes spin-loader {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Button loading state - standardized */
  .btn.is-loading,
  button.is-loading {
    position: relative;
    color: transparent !important;
    pointer-events: none;
  }

  .btn.is-loading::after,
  button.is-loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 18px;
    height: 18px;
    margin: -9px 0 0 -9px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin-loader 0.8s linear infinite;
  }

  /* Dark button variant */
  .btn-outline.is-loading::after,
  .btn-neutral.is-loading::after {
    border-color: rgba(0, 0, 0, 0.2);
    border-top-color: var(--color-primary);
  }

  /* Loading overlay for containers */
  .loading-overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: inherit;
  }

  /* Loading text indicator */
  .loading-text {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: #6b7280;
    font-size: 14px;
  }

  .loading-text::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid #e5e7eb;
    border-top-color: var(--color-secondary);
    border-radius: 50%;
    animation: spin-loader 0.8s linear infinite;
  }

  /* Tooltips */
  [data-tooltip] {
    @apply relative;
  }
  [data-tooltip]:hover::after {
    content: attr(data-tooltip);
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap z-50 pointer-events-none;
    animation: tooltipFadeIn 0.2s ease-out;
  }
  [data-tooltip]:hover::before {
    content: '';
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 z-50 pointer-events-none;
    animation: tooltipFadeIn 0.2s ease-out;
  }
  @keyframes tooltipFadeIn {
    from {
      opacity: 0;
      transform: translateX(-50%) translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }


  /* Enhanced card hover effects */
  .card, .project-card, [class*="card"] {
    @apply transition-all duration-200;
  }
  .card:hover, .project-card:hover, [class*="card"]:hover {
    @apply shadow-lg;
  }

  /* Icon hover effects */
  i[class*="fa-"] {
    @apply transition-transform duration-200;
  }
  button:hover i[class*="fa-"], a:hover i[class*="fa-"] {
    @apply transform scale-110;
  }

  /* Last updated indicator */
  .last-updated {
    @apply inline-flex items-center gap-1.5 text-xs text-gray-600; /* Darkened from gray-500 for WCAG AA */
  }
  .last-updated.recent {
    @apply text-green-700; /* Darkened from green-600 for WCAG AA */
  }
  .last-updated-icon {
    @apply text-gray-500; /* Darkened from gray-400 for WCAG AA */
  }
  .last-updated.recent .last-updated-icon {
    @apply text-green-600; /* Darkened from green-500 for WCAG AA */
  }

  /* Keyboard Shortcuts Modal */
  #keyboard-shortcuts-modal {
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  #keyboard-shortcuts-modal.show {
    opacity: 1;
  }
  #keyboard-shortcuts-modal .bg-white {
    transform: scale(0.95);
    transition: transform 0.3s ease;
  }
  #keyboard-shortcuts-modal.show .bg-white {
    transform: scale(1);
  }
  kbd {
    @apply font-mono text-sm;
    min-width: 2rem;
    text-align: center;
  }

  /* Print Styles */
  @media print {
    /* Removed 'button' from global selector to preserve informative buttons (like status badges) */
    header, footer, nav, .btn, .no-print {
      display: none !important;
    }
    body {
      background: white;
      color: black;
    }
    .container {
      max-width: 100%;
      padding: 0;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    [class*="bg-gradient-to-"] {
      background: white !important;
      color: black !important;
    }
    .text-white {
      color: black !important;
    }
    .shadow-lg, .shadow-md, .shadow-sm {
      box-shadow: none !important;
    }
    .border {
      border: 1px solid #ccc !important;
    }
    .rounded-xl, .rounded-lg, .rounded {
      border-radius: 0 !important;
    }
    .page-break {
      page-break-after: always;
    }
  }

  /* Navigation link consistency - ensure same rendering regardless of state */
  .site-header .nav-link {
    font-weight: 500 !important;
    font-size: 14px !important;
    letter-spacing: 0 !important;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: var(--color-text-light) !important;
  }

  .site-header .nav-link:hover {
    color: var(--color-primary) !important;
  }

  /* Nav link underline animation */
  /* Ensure mobile nav links meet WCAG touch target requirements */
  .navbar-right .nav-link {
    min-height: 44px; /* WCAG minimum touch target size */
    display: flex;
    align-items: center;
    touch-action: manipulation; /* Optimize touch response */
    position: relative;
  }

  /* Mobile navigation active indicator - left border accent */
  .navbar-right .nav-link.nav-active {
    border-left: 3px solid var(--color-secondary);
    background-color: rgba(34, 197, 94, 0.08);
    font-weight: 600;
    color: var(--color-primary);
  }

  /* Active indicator icon for mobile nav */
  .navbar-right .nav-link.nav-active::before {
    content: '';
    position: absolute;
    left: 12px;
    width: 6px;
    height: 6px;
    background-color: var(--color-secondary);
    border-radius: 50%;
  }

  .navbar-right .nav-link.nav-active {
    padding-left: 28px; /* Make room for the dot indicator */
  }

  /* Detail page mobile nav active state */
  body.page-detail .navbar-right .nav-link.nav-active {
    border-left-color: var(--color-secondary);
    background-color: rgba(34, 197, 94, 0.15);
    color: white;
  }

  body.page-detail .navbar-right .nav-link.nav-active::before {
    background-color: var(--color-secondary);
  }

  .nav-link {
    position: relative;
    padding-bottom: 4px;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--color-primary);
    border-radius: 1px;
    transition: width 0.3s ease, left 0.3s ease;
  }

  .nav-link:hover::after,
  .nav-link:focus::after {
    width: 100%;
    left: 0;
  }

  /* Glassmorphism header styles */
  .site-header {
    background: rgba(255, 255, 255, 0.92) !important;
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid rgba(15, 23, 42, 0.06);
    box-shadow: 0 1px 3px rgba(15, 23, 42, 0.06), 0 4px 16px rgba(15, 23, 42, 0.04);
    transition: box-shadow 0.3s ease, background 0.3s ease;
  }

  /* Enhanced glassmorphism for detail pages where header overlaps content */
  .site-header.header-transparent {
    background: rgba(255, 255, 255, 0.75) !important;
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
  }

  .site-header.header-transparent .nav-link {
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
  }

  /* Home page custom blocks */
  .site-header.glass-nav {
    background: rgba(255, 255, 255, 0.92) !important;
    backdrop-filter: blur(16px);
    border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
  }

  .site-header.glass-nav .nav-link {
    color: #0f172a;
  }

  .site-header.glass-nav .nav-link:hover {
    color: var(--color-primary);
  }

  .home-page {
    background-color: #f8fafc;
  }

  .home-hero {
    position: relative;
    overflow: hidden;
    background-color: var(--color-primary);
    color: white;
  }

  .home-hero__bg {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    transform: scale(1.1);
    filter: brightness(0.7);
  }

  .home-hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(110deg, rgba(10, 37, 88, 0.95), rgba(10, 37, 88, 0.55));
  }

  .home-scroll-indicator {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    animation: float 2.5s ease-in-out infinite;
    will-change: transform;
  }

  .text-gradient {
    background: linear-gradient(90deg, #a7f3d0, #5eead4, #38bdf8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .btn-primary-glow {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.9rem 1.8rem;
    border-radius: 9999px;
    font-weight: 700;
    background: white;
    color: var(--color-primary);
    box-shadow: 0 20px 40px rgba(255, 255, 255, 0.25);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .btn-primary-glow:hover {
    transform: translateY(-4px);
    box-shadow: 0 25px 45px rgba(255, 255, 255, 0.35);
  }

  .btn-ghost-light,
  .btn-outline-light {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    padding: 0.9rem 1.8rem;
    border-radius: 9999px;
    font-weight: 600;
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(6px);
    transition: background 0.3s ease, transform 0.3s ease;
  }

  .btn-ghost-light:hover,
  .btn-outline-light:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px);
  }

  .btn-primary-solid {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 2rem;
    border-radius: 9999px;
    font-weight: 700;
    background: white;
    color: var(--color-primary);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 20px 35px rgba(0, 0, 0, 0.2);
  }

  .btn-primary-solid:hover {
    transform: translateY(-3px);
  }

  .home-stats {
    margin-top: -4rem;
    padding: 4rem 0;
    background: linear-gradient(180deg, #f8fafc, #ffffff);
  }

  .stat-card {
    @apply bg-white rounded-3xl p-10 border-b-4 transition-all duration-300 ease-in-out;
    box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
  }

  .stat-card:hover {
    @apply -translate-y-1.5;
    box-shadow: 0 25px 55px rgba(15, 23, 42, 0.15);
  }

  .stat-value {
    @apply text-4xl font-extrabold flex items-baseline gap-0.5;
    color: var(--color-primary);
    font-variant-numeric: tabular-nums;
  }

  .stat-value-number {
    min-width: 3.5ch;
    text-align: center;
    display: inline-flex;
    justify-content: center;
  }

  .stat-label {
    margin-top: 0.5rem;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.85rem;
    color: #64748b; /* Darkened from rgba(15, 23, 42, 0.6) for WCAG AA contrast */
    letter-spacing: 0.08em;
  }

  .home-pillars {
    padding: 6rem 0;
    background: linear-gradient(180deg, #f8fafc, #eef2ff);
  }

  .section-header h2 {
    font-size: clamp(2rem, 4vw, 2.8rem);
    font-weight: 800;
    color: var(--color-primary);
  }

  .section-header p {
    color: #334155; /* Darkened from #475569 for WCAG AA contrast */
    margin-top: 0.5rem;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 1.25rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--color-primary-hover);
    background: rgba(59, 130, 246, 0.1);
  }

  .badge-contrast {
    color: #22d3ee;
    background: rgba(34, 211, 238, 0.15);
  }

  .pillar-card {
    @apply bg-white rounded-3xl p-8 border border-slate-900/5 flex flex-col items-center text-center gap-4 min-h-full transition-all duration-300 ease-in-out;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
  }

  .pillar-card:hover {
    @apply -translate-y-1.5;
    box-shadow: 0 25px 55px rgba(15, 23, 42, 0.12);
  }

  .pillar-icon {
    width: 4.5rem;
    height: 4.5rem;
    border-radius: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
  }

  .home-helix {
    position: relative;
    padding: 6rem 0;
    overflow: hidden;
    color: white;
  }

  .home-helix__gradient {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3), transparent 55%),
      radial-gradient(circle at 80% 30%, rgba(45, 212, 191, 0.35), transparent 60%),
      linear-gradient(120deg, #0f172a, #0a2558);
    opacity: 0.95;
  }

  .helix-item {
    display: flex;
    gap: 1rem;
    padding: 0.75rem 0;
    align-items: center;
  }

  .helix-icon {
    width: 3.5rem;
    height: 3.5rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: background 0.3s ease, color 0.3s ease;
  }

  .helix-item:hover .helix-icon {
    background: white;
    color: var(--color-primary);
  }

  /* =========================================
     FIXED ORBIT SECTION
     ========================================= */

  /* 2. MAIN CONTAINER */
  .orbit-container {
    position: relative;
    /* Reduced size for better proportions - content area ~400px */
    width: min(500px, 80vw);
    height: min(500px, 80vw);
    /* Reduced padding - icons are 48px (3rem), padding of 48px (3rem) ensures clearance */
    padding: 3rem;
    box-sizing: border-box;
    /* Optimization: Promotes this element to a GPU layer */
    will-change: transform; 
    overflow: visible; /* Allow icons to be visible when rotating - no clipping */
    margin: 0 auto;
    /* Ensure container takes up the space it needs */
    min-height: min(500px, 80vw);
    min-width: min(500px, 80vw);
  }

  /* 3. THE RINGS */
  .orbit-ring {
    position: absolute;
    /* Centers the ring perfectly - inset: 0 with margin: auto centers when width/height are set */
    inset: 0;
    margin: auto;
    border-radius: 50%;
    border: 1px dashed rgba(255, 255, 255, 0.2);
    transform-origin: center center;
  }

  /* Ring 1 (Academia) - Spins Clockwise */
  .ring-1 {
    width: 95%;
    height: 95%;
    border-color: rgba(118, 184, 42, 0.3);
    animation: orbit-spin-right 25s linear infinite;
    will-change: transform;
  }
  /* Icon 1 - Counter-Spins Left */
  .ring-1 .floating-icon {
    animation: icon-counter-spin-left 25s linear infinite;
    will-change: transform;
  }

  /* Ring 2 (Industria) - Spins Counter-Clockwise */
  .ring-2 {
    width: 78%;
    height: 78%;
    border-color: rgba(37, 99, 235, 0.4);
    animation: orbit-spin-left 20s linear infinite;
    will-change: transform;
  }
  /* Icon 2 - Counter-Spins Right */
  .ring-2 .floating-icon {
    animation: icon-counter-spin-right 20s linear infinite;
    will-change: transform;
  }

  /* Ring 3 (Governo) - Spins Clockwise */
  .ring-3 {
    width: 60%;
    height: 60%;
    border-color: rgba(234, 179, 8, 0.4);
    animation: orbit-spin-right 15s linear infinite;
    will-change: transform;
  }
  /* Icon 3 - Counter-Spins Left */
  .ring-3 .floating-icon {
    animation: icon-counter-spin-left 15s linear infinite;
    will-change: transform;
  }

  /* Ring 4 (Sociedade) - Spins Counter-Clockwise */
  .ring-4 {
    width: 42%;
    height: 42%;
    border-color: rgba(168, 85, 247, 0.4);
    animation: orbit-spin-left 10s linear infinite;
    will-change: transform;
  }
  /* Icon 4 - Counter-Spins Right */
  .ring-4 .floating-icon {
    animation: icon-counter-spin-right 10s linear infinite;
    will-change: transform;
  }

  /* Pause on hover */
  .orbit-container:hover .orbit-ring,
  .orbit-container:hover .floating-icon {
    animation-play-state: paused;
  }

  /* Respect reduced motion preference for orbit animations */
  @media (prefers-reduced-motion: reduce) {
    .orbit-ring,
    .orbit-ring .floating-icon {
      animation: none;
    }
  }

  /* 4. FLOATING ICONS (Positioning) */
  .floating-icon {
    position: absolute;
    top: 0;
    left: 50%;
    /* This sets the starting position. The animation then takes over. */
    transform: translate(-50%, -50%);
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 9999px;
    background: white;
    color: var(--color-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.125rem;
    box-shadow: 0 15px 30px rgba(15, 23, 42, 0.15);
    z-index: 20; /* Ensure icons are above rings */
  }

  /* Icon Hover Effects */
  .floating-icon:hover {
    transform: translate(-50%, -50%) scale(1.15);
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.25);
    z-index: 30;
  }
  
  /* Color Specific Hovers */
  .orbit-icon-academia:hover { background: var(--color-secondary); color: white; }
  .orbit-icon-industria:hover { background: var(--color-primary); color: white; }
  .orbit-icon-governo:hover { background: #eab308; color: white; }
  .orbit-icon-sociedade:hover { background: #a855f7; color: white; }

  /* 5. CORE LOGO */
  .orbit-core {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 5rem;
    height: 5rem;
    border-radius: 9999px;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 60px rgba(255, 255, 255, 0.35);
    z-index: 10;
  }

  .home-timeline {
    padding: 6rem 0;
    background: white;
    overflow: hidden;
  }

  .timeline-wrapper {
    position: relative;
    overflow-x: hidden; /* evita barra de rolagem horizontal na timeline */
    overflow-y: hidden; /* permite rolagem vertical sem depender de overflow-y: visible */
  }

  /* =========================================
     Gradient utilities (Tailwind-like shims)
     ========================================= */
  /* Note: Custom bg-linear-to-* classes removed - using standard Tailwind bg-gradient-to-* classes */

  /* Gradient color tokens */
  .from-unirvBlue { --tw-gradient-from: #2563EB; }
  .from-secondary { --tw-gradient-from: #22c55e; }
  .from-green-400 { --tw-gradient-from: #34d399; }

  .to-agrohubBlue { --tw-gradient-to: #1d4ed8; }
  .to-primary { --tw-gradient-to: #2563EB; }
  .to-darkBlue { --tw-gradient-to: #1a237e; }
  .to-teal-300 { --tw-gradient-to: #5eead4; }

  .via-blue-900 { --tw-gradient-via: #1e3a8a; }
  .via-unirvBlue { --tw-gradient-via: #2563EB; }

  .timeline-line-bg,
  .timeline-line-progress {
    position: absolute;
    top: 42px;
    left: 0;
    height: 4px;
    border-radius: 9999px;
  }

  .timeline-line-bg {
    width: 100%;
    background: #e2e8f0;
  }

  .timeline-line-progress {
    width: 40%;
    background: linear-gradient(90deg, var(--color-green), var(--color-primary));
  }

  .timeline-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .timeline-item {
      align-items: center;
      text-align: center;
    }
  }

  .timeline-icon {
    width: 4rem;
    height: 4rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.35rem;
    border: 4px solid white;
    box-shadow: 0 15px 30px rgba(15, 23, 42, 0.12);
    position: relative;
  }

  .timeline-icon.complete {
    background: linear-gradient(135deg, var(--color-secondary), #16a34a);
    color: white;
  }

  .timeline-icon.active {
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
    color: white;
  }

  .timeline-icon.upcoming {
    background: #e2e8f0;
    color: #475569;
  }

  .timeline-ping {
    position: absolute;
    inset: -6px;
    border-radius: 9999px;
    border: 1px solid rgba(59, 130, 246, 0.5);
    animation: ping 2s linear infinite;
    will-change: transform, opacity;
  }

  .timeline-card {
    @apply bg-white rounded-[1.2rem] p-6 border border-slate-900/6 relative;
    box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
  }

  .timeline-card.active {
    @apply border-t-4 -translate-y-2;
    border-top-color: var(--color-primary-hover);
  }

  .timeline-card.muted {
    opacity: 0.7;
  }

  .timeline-flag {
    position: absolute;
    top: -0.65rem;
    right: 1rem;
    background: var(--color-green);
    color: white;
    font-size: 0.6rem;
    letter-spacing: 0.2em;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    text-transform: uppercase;
  }

  .timeline-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.9rem;
    border-radius: 9999px;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .timeline-tag.success {
    background: #dcfce7;
    color: #166534;
  }

  .timeline-tag.info {
    background: #e0f2fe;
    color: var(--color-primary-hover);
  }

  .timeline-tag.neutral {
    background: #e2e8f0;
    color: #475569;
  }

  .home-cta {
    padding: 5rem 0;
    background: linear-gradient(120deg, #0a2558, #0f5ab4);
  }

  .reveal-up {
    opacity: 0;
    transform: translateY(30px);
  }

  .reveal-hero {
    opacity: 0;
    transform: translateY(30px);
  }

  /* Fallback for when animations don't load - ensure content is visible */
  @media (prefers-reduced-motion: reduce) {
    .reveal-up,
    .reveal-hero {
      opacity: 1;
      transform: none;
    }
  }

  /* Fallback: só ativa quando JS falha (classe .js-animations-failed no <html>) */
  html.js-animations-failed .reveal-up:not(.animated),
  html.js-animations-failed .reveal-hero:not(.animated) {
    animation: fadeInFallback 0.5s ease-out 0.3s forwards;
  }

  @keyframes fadeInFallback {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ---------- Shared glassmorphism & blob utilities ---------- */

  /* Generic glass card container */
  .glass-card {
    @apply rounded-3xl border border-white/20 bg-white/10 backdrop-blur-xl shadow-xl;
  }

  .glass-card-solid {
    @apply rounded-3xl border border-gray-100 bg-white/90 backdrop-blur-xl shadow-xl;
  }

  /* Auth layout: full-screen gradient with animated blobs */
  .auth-layout {
    @apply min-h-screen flex items-center justify-center px-4 py-10 relative overflow-hidden;
    background: radial-gradient(circle at top left, var(--color-secondary) 0, #0f172a 35%, #020617 100%);
  }

  .auth-layout::before,
  .auth-layout::after {
    content: "";
    position: absolute;
    border-radius: 9999px;
    filter: blur(64px);
    opacity: 0.18;
    pointer-events: none;
  }

  .auth-layout::before {
    width: 420px;
    height: 420px;
    background: var(--color-secondary);
    top: -120px;
    right: -80px;
    animation: blob 7s infinite;
    will-change: transform;
  }

  .auth-layout::after {
    width: 520px;
    height: 520px;
    background: #38bdf8;
    bottom: -160px;
    left: -100px;
    animation: blob 9s infinite;
    animation-delay: 2s;
    will-change: transform;
  }

  .auth-inner {
    @apply relative z-10 w-full max-w-md;
  }

  .auth-card {
    @apply rounded-3xl border border-gray-100 bg-white/90 backdrop-blur-xl shadow-xl p-8 md:p-10;
  }

  .auth-input {
    @apply h-12 w-full px-4 py-3 rounded-xl border border-gray-300 bg-white/90
    focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
    text-gray-900 placeholder:text-gray-400 text-base;
    box-sizing: border-box;
  }

  .auth-label {
    color: #ffffff;
    font-weight: 500;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
    font-size: 0.875rem;
    margin-bottom: 0.5rem;
    display: block;
  }

  @media (min-width: 768px) {
    .auth-label {
      color: #374151;
      text-shadow: none;
    }
  }

  .auth-muted {
    @apply text-sm text-gray-300 md:text-gray-600;
  }

  .auth-back-link {
    @apply inline-flex items-center gap-2 text-gray-200 md:text-gray-600 hover:text-green-300
    md:hover:text-primary transition-colors;
  }

  .auth-title {
    @apply text-2xl font-bold text-white md:text-primary;
  }

  .auth-gradient-cta {
    @apply w-full h-12 rounded-xl bg-linear-to-r from-secondary to-primary
    text-white font-semibold shadow-lg hover:from-emerald-500 hover:to-primary-hover
    transition-all flex items-center justify-center gap-2 text-base active:scale-95;
    min-height: 48px;
    box-sizing: border-box;
  }

  /* Background blobs utility for sections */
  .bg-blobs {
    position: relative;
    overflow: hidden;
  }

  .bg-blobs::before,
  .bg-blobs::after {
    content: "";
    position: absolute;
    border-radius: 9999px;
    filter: blur(64px);
    opacity: 0.16;
    pointer-events: none;
  }

  .bg-blobs::before {
    width: 560px;
    height: 560px;
    background: var(--color-secondary);
    top: -180px;
    right: -160px;
  }

  .bg-blobs::after {
    width: 640px;
    height: 640px;
    background: #38bdf8;
    bottom: -220px;
    left: -180px;
  }

  /* Simple reusable blob animation (used in hero/startups/auth) */
  /* Optimized to prevent layout shifts: contain layout, will-change for transform */
  .animate-blob {
    animation: blob 7s infinite;
    will-change: transform;
    contain: layout style paint;
    /* Reserve space to prevent layout shifts */
    min-width: 600px;
    min-height: 600px;
  }

  .animate-blob-delay-1 {
    animation: blob 8s infinite;
    animation-delay: 2s;
    will-change: transform;
    contain: layout style paint;
    min-width: 600px;
    min-height: 600px;
  }

  .animate-blob-delay-2 {
    animation: blob 9s infinite;
    animation-delay: 4s;
    will-change: transform;
    contain: layout style paint;
    min-width: 600px;
    min-height: 600px;
  }

  .startups-stats-bar {
    font-variant-numeric: tabular-nums;
    contain: layout paint;
  }

  .startups-stats-bar .stat-value-number {
    min-width: 4ch;
    text-align: center;
  }

  #startups-grid {
    contain: layout paint;
  }

  .startup-card {
    @apply rounded-3xl border border-gray-100 bg-white shadow-lg transition-all duration-300;
    min-height: 420px;
    contain: layout paint;
    will-change: transform;
  }

  .startup-card img {
    aspect-ratio: 1 / 1;
    object-fit: cover;
    width: 64px;
    height: 64px;
  }

  .startup-logo-fallback {
    aspect-ratio: 1 / 1;
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .startup-card .phase-badge {
    min-height: 32px;
  }
}

@layer utilities {
  @keyframes float {
    0% {
      transform: translate(-50%, 0);
    }
    50% {
      transform: translate(-50%, -10px);
    }
    100% {
      transform: translate(-50%, 0);
    }
  }

  /* Blob morph animation shared across pages */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(24px, -40px) scale(1.08);
    }
    66% {
      transform: translate(-20px, 24px) scale(0.95);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  @keyframes ping {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
    will-change: transform;
  }
}

/* Scrollbar-hide utility for horizontal-scroll containers */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Filter details - keep open on large screens (outside @layer for media queries) */
@media (min-width: 1024px) {
  .filter-details summary {
    pointer-events: none;
    cursor: default;
  }

  .filter-details summary::-webkit-details-marker {
    display: none;
  }
}

