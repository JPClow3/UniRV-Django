@import "tailwindcss";

/**
  * Source paths for Tailwind CSS to scan for class names.
  * Updated to match project structure.
  */
@source "../../../templates/**/*.html";
@source "../../../editais/templates/**/*.html";
@source "../../../**/*.py";

/* Self-hosted Montserrat font to avoid render-blocking Google Fonts calls */
@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('../fonts/Montserrat-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('../fonts/Montserrat-SemiBold.ttf') format('truetype');
}

/* Note: FontAwesome font-display optimization is handled via preload link in base.html */
/* CDN @font-face rules cannot be overridden, but preloading helps with font loading performance */

@theme {
  --color-unirvBlue: #27348b;
  --color-agrohubBlue: #007bff;
  --color-agrohubGreen: #76b82a;
  --color-darkBlue: #1a237e;
  --color-green: #10b981;
  --color-green-light: #34d399;
  --color-green-dark: #059669;
  --color-primary: var(--color-unirvBlue);
  --color-secondary: var(--color-agrohubBlue);
  
  --font-family-sans: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-full: 999px;
  
  /* Z-index scale for consistent layering */
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 50;
  --z-modal: 100;
  --z-popover: 200;
  --z-tooltip: 300;
  --z-skip-link: 10000;
}
/* Global typography */
body {
  font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI',
    system-ui, -system-ui, sans-serif;
}

@layer components {
  /* =========================================
     FIXED ORBIT SECTION - KEYFRAMES
     ========================================= */
  /* 1. UNIQUE KEYFRAMES (Renamed to force cache refresh) */
  @keyframes orbit-spin-right {
    from { transform: rotate(0deg); }
    to   { transform: rotate(360deg); }
  }

  @keyframes orbit-spin-left {
    from { transform: rotate(360deg); }
    to   { transform: rotate(0deg); }
  }

  @keyframes icon-counter-spin-right {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to   { transform: translate(-50%, -50%) rotate(360deg); }
  }

  @keyframes icon-counter-spin-left {
    from { transform: translate(-50%, -50%) rotate(360deg); }
    to   { transform: translate(-50%, -50%) rotate(0deg); }
  }

  /* Skip link for accessibility - hidden until focused */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary);
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    z-index: 10000;
    font-weight: 600;
    border-radius: 0 0 4px 0;
  }

  .skip-link:focus {
    top: 0;
    outline: 3px solid #ffc107;
    outline-offset: 2px;
  }

  /* Full-bleed utility for full-width sections */
  /* Using calc-based approach to prevent scrollbar issues on Windows/Linux */
  .full-bleed {
    width: 100%;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    max-width: 100vw;
    position: relative;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Prevent horizontal scrollbar - using clip instead of hidden to preserve sticky positioning */
  html {
    overflow-x: clip;
    max-width: 100%;
  }

  body {
    overflow-x: clip;
    max-width: 100%;
  }

  /* Page detail styles - minimal styles for detail pages */
  body.page-detail {
    background-color: #f0f2f5;
  }

  /* Fold-aware content wrapper keeps below-the-fold sections cheap */
  .fold-section {
    content-visibility: auto;
    contain-intrinsic-size: 600px 800px;
    min-height: 200px;
  }

  @media (min-width: 1024px) {
    .fold-section {
      contain-intrinsic-size: 800px 900px;
    }
  }

  .hero-media {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    border: 0;
    z-index: 0;
  }

  .hero-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    filter: saturate(110%);
    transition: transform 1.2s ease;
  }

  .hero-media::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(to right, rgba(39, 52, 139, 0.95), rgba(39, 52, 139, 0.4));
  }

  .hero-media img.is-loaded {
    transform: scale(1.05);
  }

  /* Mobile Menu Toggle */
  .mobile-menu-toggle {
    @apply flex flex-col justify-center items-center gap-1 w-10 h-10 p-2 bg-transparent border-none cursor-pointer rounded-lg transition-colors duration-200;
  }

  .mobile-menu-toggle:hover {
    background: rgba(0, 0, 0, 0.05);
  }

  body.page-detail .mobile-menu-toggle:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  /* Hamburger menu lines */
  .hamburger-line {
    width: 24px;
    height: 3px;
    background-color: #333;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  body.page-detail .hamburger-line {
    background-color: #fff;
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(6px, 6px);
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(2) {
    opacity: 0;
    transform: scale(0);
  }

  .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(6px, -6px);
  }

  /* Mobile Navigation Menu */
  .navbar-right {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
    background: white;
    border-top: 1px solid #e5e7eb;
  }

  body.page-detail .navbar-right {
    background: var(--color-unirvBlue);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  body.page-detail .navbar-right .nav-link {
    color: rgba(255, 255, 255, 0.9);
  }

  body.page-detail .navbar-right .nav-link:hover {
    color: white;
    background: rgba(255, 255, 255, 0.1);
  }

  .navbar-right.menu-open {
    max-height: 500px;
    border-top: 1px solid #e5e7eb;
  }

  body.page-detail .navbar-right.menu-open {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Button components */
  .btn {
    padding: 10px 18px;
    border-radius: var(--radius-xl);
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    font-size: 14px;
    min-height: 44px;
  }

  .btn-primary {
    background-color: var(--color-primary);
    color: white;
  }

  .btn-primary:hover {
    background-color: color-mix(in srgb, var(--color-primary), black 10%);
  }

  .btn-secondary {
    background-color: var(--color-secondary);
    color: white;
  }

  .btn-secondary:hover {
    background-color: color-mix(in srgb, var(--color-secondary), black 10%);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  }

  .btn-success {
    background-color: var(--color-green);
    color: white;
  }

  .btn-success:hover {
    background-color: var(--color-green-dark);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
  }

  .btn-neutral {
    background-color: #6c757d;
    color: white;
  }

  .btn-neutral:hover {
    background-color: #545b62;
  }

  .btn-outline {
    background-color: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
    font-weight: 600;
  }

  .btn-outline:hover {
    background-color: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
  }

  .btn-danger {
    background-color: #dc3545; /* Keep standard danger */
    color: white;
    border: none;
  }

  .btn-danger:hover {
    background-color: #c82333;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
  }

  .nav-cta {
    @apply px-6 py-2.5 rounded-full font-medium text-sm whitespace-nowrap transition-all duration-300 ease-in-out no-underline inline-flex items-center justify-center;
    background-color: var(--color-darkBlue);
    color: #ffffff !important; /* Ensure white text for maximum contrast - WCAG AA compliant */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  /* Ensure nav-cta has good contrast even on transparent headers */
  .site-header.header-transparent .nav-cta,
  .site-header.glass-nav .nav-cta {
    background-color: var(--color-darkBlue) !important;
    color: #ffffff !important;
  }

  .nav-cta:hover {
    background-color: var(--color-primary);
    color: #ffffff !important; /* Ensure white text on hover for WCAG AA compliance */
    transform: translateY(-1px);
    box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 1px solid var(--color-green-light);
  }

  .page-meta {
    @apply flex flex-wrap gap-5 mt-4 pt-4 border-t border-gray-200;
  }

  .page-meta-item {
    @apply flex items-center gap-2 text-sm text-gray-700;
  }

  .page-meta-item strong {
    color: var(--color-primary);
    font-weight: 600;
  }

  .page-meta-item.deadline-soon-meta {
    background: #fef2f2;
    padding: 8px 12px;
    border-radius: 6px;
    border-left: 3px solid #dc2626;
  }

  /* Prose styles for content readability */
  .prose {
    color: #1f2937;
    font-size: 16px;
    line-height: 1.75;
    max-width: 100%;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    color: #0f172a;
    margin-top: 1.5em;
    margin-bottom: 0.75em;
    font-weight: 600;
    line-height: 1.3;
  }

  .prose h2 {
    font-size: 1.5rem;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 0.3em;
  }

  .prose h3 {
    font-size: 1.25rem;
  }

  .prose p {
    margin-bottom: 1.25em;
    line-height: 1.75;
  }

  .prose ul,
  .prose ol {
    margin: 1em 0 1.25em 1.5em;
    line-height: 1.75;
  }

  .prose li {
    margin-bottom: 0.5em;
  }

  .prose a {
    color: #1e3a8a;
    text-decoration: none;
    transition: color 0.2s, text-decoration-color 0.2s;
    font-weight: 500;
  }

  .prose a:hover {
    color: var(--color-green-dark);
    text-decoration: underline;
    text-decoration-color: var(--color-green);
  }

  .prose strong {
    font-weight: 600;
    color: #111827;
  }

  /* History section */
  .history-section {
    margin: 40px 0;
    padding: 24px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
  }

  .history-section h3 {
    font-size: 20px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 20px;
  }

  .history-list {
    @apply flex flex-col gap-4;
  }

  .history-item {
    @apply bg-white p-4 rounded-lg border-l-4 border-gray-600;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .history-header {
    @apply flex items-center gap-3 mb-3 flex-wrap;
  }

  .history-action {
    @apply px-3 py-1 rounded-full text-xs font-semibold uppercase;
  }

  .history-action.history-create {
    background-color: #d1fae5;
    color: #065f46;
  }

  .history-action.history-update {
    background-color: #dbeafe;
    color: #1e40af;
  }

  .history-action.history-delete {
    background-color: #fee2e2;
    color: #991b1b;
  }

  .history-user {
    color: #6b7280;
    font-size: 14px;
  }

  .history-time {
    color: #9ca3af;
    font-size: 13px;
    margin-left: auto;
  }

  .history-changes {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid #e5e7eb;
  }

  .history-change-item {
    @apply flex items-center gap-2 mb-2 text-sm flex-wrap;
  }

  .history-change-item .old-value {
    color: #ef4444;
    text-decoration: line-through;
    padding: 2px 6px;
    background: #fee2e2;
    border-radius: 4px;
  }

  .history-change-item .new-value {
    color: #10b981;
    padding: 2px 6px;
    background: #d1fae5;
    border-radius: 4px;
  }

  /* Disclaimer and activity info */
  .disclaimer {
    background: #f9fafb;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 24px 0;
    font-size: 14px;
    color: #374151;
    border-left: 4px solid var(--color-secondary);
  }

  .activity-info {
    background: #f9fafb;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 24px 0;
    font-size: 13px;
    color: #6b7280;
    border: 1px solid #e5e7eb;
  }
  /* Skeleton Loading */
  .skeleton-card {
    @apply bg-white rounded-2xl p-6 border border-gray-100 shadow-sm;
  }
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  .skeleton-badge {
    @apply h-6 w-24 mb-4;
  }
  .skeleton-title {
    @apply h-8 w-3/4 mb-4;
  }
  .skeleton-text {
    @apply h-4 w-full mb-2;
  }
  .skeleton-button {
    @apply h-10 w-32 mt-4 rounded-xl;
  }

  /* Toast Container */
  .toast-container {
    @apply fixed bottom-4 right-4 z-50 flex flex-col gap-3;
    max-width: 400px;
  }

  /* Toasts */
  .toast {
    @apply bg-white border border-gray-200 rounded-xl shadow-xl transform translate-x-full opacity-0 transition-all duration-300 flex items-start gap-3 p-4;
    min-width: 300px;
  }
  .toast.show {
    @apply translate-x-0 opacity-100;
  }
  .toast-content {
    @apply flex items-start gap-3 flex-1;
  }
  .toast-icon {
    @apply text-lg shrink-0 mt-0.5;
  }
  .toast-message {
    @apply text-gray-900 text-sm flex-1;
  }
  .toast-close {
    @apply text-gray-400 hover:text-gray-600 transition-colors p-1 rounded hover:bg-gray-100 shrink-0;
  }
  .toast-success {
    @apply border-green-200 bg-green-50;
  }
  .toast-success .toast-icon {
    @apply text-green-600;
  }
  .toast-error {
    @apply border-red-200 bg-red-50;
  }
  .toast-error .toast-icon {
    @apply text-red-600;
  }
  .toast-warning {
    @apply border-yellow-200 bg-yellow-50;
  }
  .toast-warning .toast-icon {
    @apply text-yellow-600;
  }
  .toast-info {
    @apply border-blue-200 bg-blue-50;
  }
  .toast-info .toast-icon {
    @apply text-blue-600;
  }

  /* Confirmation Dialog */
  .confirm-dialog-overlay {
    @apply fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .confirm-dialog-overlay.show {
    opacity: 1;
  }
  .confirm-dialog {
    @apply bg-white rounded-2xl shadow-2xl max-w-md w-full transform scale-95 transition-transform duration-300;
  }
  .confirm-dialog-overlay.show .confirm-dialog {
    @apply scale-100;
  }
  .confirm-dialog-header {
    @apply p-6 border-b border-gray-200 flex items-start gap-4;
  }
  .confirm-dialog-icon {
    @apply w-12 h-12 rounded-full flex items-center justify-center shrink-0;
  }
  .confirm-dialog-icon-warning {
    @apply bg-yellow-100 text-yellow-600;
  }
  .confirm-dialog-icon-danger {
    @apply bg-red-100 text-red-600;
  }
  .confirm-dialog-icon-info {
    @apply bg-blue-100 text-blue-600;
  }
  .confirm-dialog-icon i {
    @apply text-xl;
  }
  .confirm-dialog-title {
    @apply text-xl font-semibold text-gray-900 flex-1;
  }
  .confirm-dialog-body {
    @apply p-6 text-gray-600;
  }
  .confirm-dialog-footer {
    @apply p-6 border-t border-gray-200 flex justify-end gap-3;
  }
  .confirm-dialog-btn {
    @apply px-6 py-2.5 rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  .confirm-dialog-cancel {
    @apply bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500;
  }
  .confirm-dialog-btn.btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
  }
  .confirm-dialog-btn.btn-primary {
    @apply bg-unirvBlue text-white hover:bg-unirvBlue/90 focus:ring-unirvBlue;
  }

  /* Autosave Indicator */
  .autosave-indicator {
    @apply fixed bottom-4 left-4 bg-white border border-gray-200 shadow-lg rounded-full px-4 py-2 text-sm text-gray-600 flex items-center gap-2 transform translate-y-20 opacity-0 transition-all duration-300 z-40;
  }
  .autosave-indicator.visible {
    @apply translate-y-0 opacity-100;
  }
  .autosave-indicator i {
    @apply text-green-500;
  }

  /* Form Errors */
  .form-group.has-error input,
  .form-group.has-error select,
  .form-group.has-error textarea {
    @apply border-red-500 ring-1 ring-red-500;
  }
  .field-error {
    @apply text-red-500 text-xs mt-1 font-medium;
  }
  .has-date-error {
    @apply border-red-500! ring-1! ring-red-500!;
  }

  /* Search & Grid */
  .search-input-wrapper {
    @apply relative;
  }
  .search-input-wrapper.searching input {
    @apply pr-10;
  }
  .search-clear {
    @apply absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer p-1 hidden;
  }
  .editais-grid {
    @apply transition-opacity duration-300;
  }
  .editais-grid.loading {
    @apply opacity-50 pointer-events-none;
  }
  .editais-grid.fade-in {
    @apply animate-pulse;
  }
  
  /* Loading Button State */
  .btn.loading {
    @apply opacity-75 cursor-not-allowed relative;
  }
  .btn-loading {
    @apply hidden;
  }

  /* Back to Top Button */
  .back-to-top {
    @apply fixed bottom-8 right-8 w-12 h-12 rounded-full border-none cursor-pointer flex items-center justify-center text-lg transition-all duration-300 ease-in-out;
    background: linear-gradient(135deg, var(--color-unirvBlue), var(--color-agrohubBlue));
    color: white;
    box-shadow: 0 4px 12px rgba(10, 37, 88, 0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    z-index: 1000;
  }

  .back-to-top:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(10, 37, 88, 0.4);
  }

  .back-to-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .back-to-top:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5), 0 4px 12px rgba(10, 37, 88, 0.3);
  }

  /* Form Page Styles */
  .form-page {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8;
  }

  .form-header-modern {
    @apply text-white rounded-2xl p-8 mb-8 shadow-lg;
    background-image: linear-gradient(90deg, var(--color-unirvBlue), var(--color-agrohubBlue));
  }

  .form-header-content {
    @apply flex items-center gap-6;
  }

  .form-header-icon {
    @apply w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-3xl;
  }

  .form-header-text {
    @apply flex-1;
  }

  .form-main-title {
    @apply text-2xl md:text-3xl font-bold mb-2;
  }

  .form-subtitle-modern {
    @apply text-white/80 text-base;
  }

  .styled-form-modern {
    @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8;
  }

  .form-section-modern {
    @apply border-0 p-0 mb-8;
  }

  .section-title-modern {
    @apply text-lg font-bold text-unirvBlue flex items-center gap-3 mb-6 pb-3 border-b-2 border-gray-100;
  }

  .form-group {
    @apply mb-6;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  .required-mark {
    @apply text-red-500 ml-1;
  }

  .form-help {
    @apply text-xs text-gray-500 mt-1 block;
  }

  .form-help-text {
    @apply bg-blue-50 text-blue-800 px-4 py-3 rounded-lg mb-6 text-sm flex items-center gap-2;
  }

  .form-actions-modern {
    @apply flex flex-wrap gap-4 mt-8 pt-6 border-t border-gray-100;
  }

  .error-summary {
    @apply bg-red-50 border border-red-200 rounded-xl p-6 mb-6;
  }

  .error-summary-title {
    @apply text-red-800 font-bold text-lg flex items-center gap-2 mb-3;
  }

  .error-summary-list {
    @apply list-disc list-inside space-y-1;
  }

  .error-link {
    @apply text-red-700 hover:text-red-900 underline;
  }

  /* Form Inputs */
  .styled-form-modern input[type="text"],
  .styled-form-modern input[type="url"],
  .styled-form-modern input[type="date"],
  .styled-form-modern input[type="email"],
  .styled-form-modern input[type="number"],
  .styled-form-modern select,
  .styled-form-modern textarea {
    @apply w-full px-4 py-3 border border-gray-300 rounded-xl transition-all bg-gray-50 focus:bg-white;
  }
  .styled-form-modern input[type="text"]:focus-visible,
  .styled-form-modern input[type="url"]:focus-visible,
  .styled-form-modern input[type="date"]:focus-visible,
  .styled-form-modern input[type="email"]:focus-visible,
  .styled-form-modern input[type="number"]:focus-visible,
  .styled-form-modern select:focus-visible,
  .styled-form-modern textarea:focus-visible {
    border-color: var(--color-green);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    outline: none;
  }

  .styled-form-modern textarea {
    @apply min-h-32 resize-y;
  }

  .styled-form-modern select {
    @apply appearance-none bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* Status Badge */
  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide;
  }

  .status-aberto {
    @apply bg-green-100 text-green-700 border border-green-200;
  }

  .status-fechado {
    @apply bg-gray-100 text-gray-600;
  }

  .status-em_andamento {
    @apply bg-blue-100 text-blue-700;
  }

  .status-suspenso {
    @apply bg-yellow-100 text-yellow-700;
  }


  /* Clear Filters Button */
  .clear-filters-btn {
    @apply flex items-center gap-1 text-secondary hover:text-unirvBlue transition-colors;
  }

  .clear-filters-btn.loading {
    @apply opacity-50 pointer-events-none;
  }

  /* Project Cards */
  .project-card {
    @apply transition-all duration-200 ease-in-out cursor-default;
  }

  .project-card:hover {
    border-color: var(--color-secondary);
  }

  .project-status-badge {
    transition: transform 0.2s ease;
  }

  .project-card:hover .project-status-badge {
    transform: scale(1.05);
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Empty state icon animation */
  .empty-state-icon {
    animation: fadeInBounce 0.6s ease-out;
  }

  @keyframes fadeInBounce {
    0% {
      opacity: 0;
      transform: translateY(-20px) scale(0.9);
    }
    50% {
      transform: translateY(5px) scale(1.05);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Card fade-in animation */
  .project-card {
    animation: fadeInUp 0.4s ease-out;
    animation-fill-mode: both;
  }

  .project-card:nth-child(1) { animation-delay: 0.05s; }
  .project-card:nth-child(2) { animation-delay: 0.1s; }
  .project-card:nth-child(3) { animation-delay: 0.15s; }
  .project-card:nth-child(4) { animation-delay: 0.2s; }
  .project-card:nth-child(5) { animation-delay: 0.25s; }
  .project-card:nth-child(6) { animation-delay: 0.3s; }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Skeleton Loading States */
  .skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 4px;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .skeleton-card {
    @apply bg-white rounded-xl border border-gray-200 p-6;
    min-height: 200px;
  }

  .skeleton-title {
    @apply h-6 mb-4;
    width: 70%;
  }

  .skeleton-text {
    @apply h-4 mb-2;
    width: 100%;
  }

  .skeleton-badge {
    @apply h-6 mb-4;
    width: 100px;
  }

  .skeleton-button {
    @apply h-10;
    width: 120px;
  }

  /* Edital Card improvements */
  .edital-card {
    position: relative;
  }

  .edital-card .fas,
  .edital-card i {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .edital-card h3 {
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  /* Loading spinner */
  .loading-spinner {
    border: 3px solid #f3f3f3;
    border-top: 3px solid var(--color-secondary);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin-loader 1s linear infinite;
  }

  @keyframes spin-loader {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Tooltips */
  [data-tooltip] {
    @apply relative;
  }
  [data-tooltip]:hover::after {
    content: attr(data-tooltip);
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap z-50 pointer-events-none;
    animation: tooltipFadeIn 0.2s ease-out;
  }
  [data-tooltip]:hover::before {
    content: '';
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 z-50 pointer-events-none;
    animation: tooltipFadeIn 0.2s ease-out;
  }
  @keyframes tooltipFadeIn {
    from {
      opacity: 0;
      transform: translateX(-50%) translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  /* Enhanced button states */
  .btn, button[type="submit"], a.btn {
    @apply transition-all duration-200;
  }
  .btn:hover, button[type="submit"]:hover, a.btn:hover {
    @apply transform scale-105;
  }
  .btn:active, button[type="submit"]:active, a.btn:active {
    @apply transform scale-95;
  }
  .btn:focus, button[type="submit"]:focus, a.btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-green), 0 0 0 4px rgba(16, 185, 129, 0.2);
  }

  /* Enhanced card hover effects */
  .card, .project-card, [class*="card"] {
    @apply transition-all duration-200;
  }
  .card:hover, .project-card:hover, [class*="card"]:hover {
    @apply shadow-lg;
  }

  /* Icon hover effects */
  i[class*="fa-"] {
    @apply transition-transform duration-200;
  }
  button:hover i[class*="fa-"], a:hover i[class*="fa-"] {
    @apply transform scale-110;
  }

  /* Last updated indicator */
  .last-updated {
    @apply inline-flex items-center gap-1.5 text-xs text-gray-500;
  }
  .last-updated.recent {
    @apply text-green-600;
  }
  .last-updated-icon {
    @apply text-gray-400;
  }
  .last-updated.recent .last-updated-icon {
    @apply text-green-500;
  }

  /* Keyboard Shortcuts Modal */
  #keyboard-shortcuts-modal {
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  #keyboard-shortcuts-modal.show {
    opacity: 1;
  }
  #keyboard-shortcuts-modal .bg-white {
    transform: scale(0.95);
    transition: transform 0.3s ease;
  }
  #keyboard-shortcuts-modal.show .bg-white {
    transform: scale(1);
  }
  kbd {
    @apply font-mono text-sm;
    min-width: 2rem;
    text-align: center;
  }

  /* Print Styles */
  @media print {
    /* Removed 'button' from global selector to preserve informative buttons (like status badges) */
    header, footer, nav, .btn, .no-print {
      display: none !important;
    }
    body {
      background: white;
      color: black;
    }
    .container {
      max-width: 100%;
      padding: 0;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    [class*="bg-gradient-to-"],
    [class*="bg-linear-to-"] {
      background: white !important;
      color: black !important;
    }
    .text-white {
      color: black !important;
    }
    .shadow-lg, .shadow-md, .shadow-sm {
      box-shadow: none !important;
    }
    .border {
      border: 1px solid #ccc !important;
    }
    .rounded-xl, .rounded-lg, .rounded {
      border-radius: 0 !important;
    }
    .page-break {
      page-break-after: always;
    }
  }

  /* Navigation link consistency - ensure same rendering regardless of state */
  .site-header .nav-link {
    font-weight: 500 !important;
    font-size: 14px !important;
    letter-spacing: 0 !important;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Glassmorphism header styles */
  .site-header {
    background: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    border-bottom: 1px solid rgba(15, 23, 42, 0.1);
    box-shadow: 0 4px 20px rgba(15, 23, 42, 0.1);
  }

  /* Enhanced glassmorphism for detail pages where header overlaps content */
  .site-header.header-transparent {
    background: rgba(255, 255, 255, 0.75) !important;
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
  }

  /* Ensure text contrast on glassmorphism header */
  .site-header .nav-link {
    color: #1e293b !important;
  }

  .site-header .nav-link:hover {
    color: var(--color-green) !important;
  }

  .site-header.header-transparent .nav-link {
    color: #1e293b !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
  }

  /* Home page custom blocks */
  .site-header.glass-nav {
    background: rgba(255, 255, 255, 0.92) !important;
    backdrop-filter: blur(16px);
    border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
  }

  .site-header.glass-nav .nav-link {
    color: #0f172a;
  }

  .site-header.glass-nav .nav-link:hover {
    color: var(--color-green);
  }

  .home-page {
    background-color: #f8fafc;
  }

  .home-hero {
    position: relative;
    overflow: hidden;
    background-color: var(--color-unirvBlue);
    color: white;
  }

  .home-hero__bg {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    transform: scale(1.1);
    filter: brightness(0.7);
  }

  .home-hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(110deg, rgba(10, 37, 88, 0.95), rgba(10, 37, 88, 0.55));
  }

  .home-scroll-indicator {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    animation: float 2.5s ease-in-out infinite;
  }

  .text-gradient {
    background: linear-gradient(90deg, #a7f3d0, #5eead4, #38bdf8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .btn-primary-glow {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.9rem 1.8rem;
    border-radius: 9999px;
    font-weight: 700;
    background: white;
    color: var(--color-unirvBlue);
    box-shadow: 0 20px 40px rgba(255, 255, 255, 0.25);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .btn-primary-glow:hover {
    transform: translateY(-4px);
    box-shadow: 0 25px 45px rgba(255, 255, 255, 0.35);
  }

  .btn-ghost-light,
  .btn-outline-light {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    padding: 0.9rem 1.8rem;
    border-radius: 9999px;
    font-weight: 600;
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(6px);
    transition: background 0.3s ease, transform 0.3s ease;
  }

  .btn-ghost-light:hover,
  .btn-outline-light:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px);
  }

  .btn-primary-solid {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 2rem;
    border-radius: 9999px;
    font-weight: 700;
    background: white;
    color: var(--color-unirvBlue);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 20px 35px rgba(0, 0, 0, 0.2);
  }

  .btn-primary-solid:hover {
    transform: translateY(-3px);
  }

  .home-stats {
    margin-top: -4rem;
    padding: 4rem 0;
    background: linear-gradient(180deg, #f8fafc, #ffffff);
  }

  .stat-card {
    @apply bg-white rounded-3xl p-10 border-b-4 transition-all duration-300 ease-in-out;
    box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
  }

  .stat-card:hover {
    @apply -translate-y-1.5;
    box-shadow: 0 25px 55px rgba(15, 23, 42, 0.15);
  }

  .stat-value {
    @apply text-4xl font-extrabold flex items-baseline gap-0.5;
    color: var(--color-unirvBlue);
    font-variant-numeric: tabular-nums;
  }

  .stat-value-number {
    min-width: 3.5ch;
    text-align: center;
    display: inline-flex;
    justify-content: center;
  }

  .stat-label {
    margin-top: 0.5rem;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.85rem;
    color: rgba(15, 23, 42, 0.6);
    letter-spacing: 0.08em;
  }

  .home-pillars {
    padding: 6rem 0;
    background: linear-gradient(180deg, #f8fafc, #eef2ff);
  }

  .section-header h2 {
    font-size: clamp(2rem, 4vw, 2.8rem);
    font-weight: 800;
    color: var(--color-unirvBlue);
  }

  .section-header p {
    color: #475569;
    margin-top: 0.5rem;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 1.25rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--color-agrohubBlue);
    background: rgba(59, 130, 246, 0.1);
  }

  .badge-contrast {
    color: #22d3ee;
    background: rgba(34, 211, 238, 0.15);
  }

  .pillar-card {
    @apply bg-white rounded-3xl p-8 border border-slate-900/5 flex flex-col items-center text-center gap-4 min-h-full transition-all duration-300 ease-in-out;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
  }

  .pillar-card:hover {
    @apply -translate-y-1.5;
    box-shadow: 0 25px 55px rgba(15, 23, 42, 0.12);
  }

  .pillar-icon {
    width: 4.5rem;
    height: 4.5rem;
    border-radius: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
  }

  .home-helix {
    position: relative;
    padding: 6rem 0;
    overflow: hidden;
    color: white;
  }

  .home-helix__gradient {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.3), transparent 55%),
      radial-gradient(circle at 80% 30%, rgba(45, 212, 191, 0.35), transparent 60%),
      linear-gradient(120deg, #0f172a, #0a2558);
    opacity: 0.95;
  }

  .helix-item {
    display: flex;
    gap: 1rem;
    padding: 0.75rem 0;
    align-items: center;
  }

  .helix-icon {
    width: 3.5rem;
    height: 3.5rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    transition: background 0.3s ease, color 0.3s ease;
  }

  .helix-item:hover .helix-icon {
    background: white;
    color: var(--color-unirvBlue);
  }

  /* =========================================
     FIXED ORBIT SECTION
     ========================================= */

  /* 2. MAIN CONTAINER */
  .orbit-container {
    position: relative;
    width: min(400px, 80vw);
    aspect-ratio: 1 / 1;
    /* Optimization: Promotes this element to a GPU layer */
    will-change: transform; 
  }

  /* 3. THE RINGS */
  .orbit-ring {
    position: absolute;
    /* Centers the ring perfectly without using transform */
    inset: 0;
    margin: auto;
    border-radius: 50%;
    border: 1px dashed rgba(255, 255, 255, 0.2);
    transform-origin: center center;
    /* IMPORTANT: 'transform: none' was removed from here */
  }

  /* Ring 1 (Academia) - Spins Clockwise */
  .ring-1 {
    width: 100%;
    height: 100%;
    border-color: rgba(118, 184, 42, 0.3);
    animation: orbit-spin-right 25s linear infinite;
  }
  /* Icon 1 - Counter-Spins Left */
  .ring-1 .floating-icon {
    animation: icon-counter-spin-left 25s linear infinite;
  }

  /* Ring 2 (Industria) - Spins Counter-Clockwise */
  .ring-2 {
    width: 80%;
    height: 80%;
    border-color: rgba(39, 52, 139, 0.4);
    animation: orbit-spin-left 20s linear infinite;
  }
  /* Icon 2 - Counter-Spins Right */
  .ring-2 .floating-icon {
    animation: icon-counter-spin-right 20s linear infinite;
  }

  /* Ring 3 (Governo) - Spins Clockwise */
  .ring-3 {
    width: 60%;
    height: 60%;
    border-color: rgba(234, 179, 8, 0.4);
    animation: orbit-spin-right 15s linear infinite;
  }
  /* Icon 3 - Counter-Spins Left */
  .ring-3 .floating-icon {
    animation: icon-counter-spin-left 15s linear infinite;
  }

  /* Ring 4 (Sociedade) - Spins Counter-Clockwise */
  .ring-4 {
    width: 40%;
    height: 40%;
    border-color: rgba(168, 85, 247, 0.4);
    animation: orbit-spin-left 10s linear infinite;
  }
  /* Icon 4 - Counter-Spins Right */
  .ring-4 .floating-icon {
    animation: icon-counter-spin-right 10s linear infinite;
  }

  /* Pause on hover */
  .orbit-container:hover .orbit-ring,
  .orbit-container:hover .floating-icon {
    animation-play-state: paused;
  }

  /* 4. FLOATING ICONS (Positioning) */
  .floating-icon {
    position: absolute;
    top: 0;
    left: 50%;
    /* This sets the starting position. The animation then takes over. */
    transform: translate(-50%, -50%);
    width: 3rem;
    height: 3rem;
    border-radius: 9999px;
    background: white;
    color: var(--color-unirvBlue);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 15px 30px rgba(15, 23, 42, 0.15);
    z-index: 20; /* Ensure icons are above rings */
  }

  /* Icon Hover Effects */
  .floating-icon:hover {
    transform: translate(-50%, -50%) scale(1.15);
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.25);
    z-index: 30;
  }
  
  /* Color Specific Hovers */
  .orbit-icon-academia:hover { background: var(--color-agrohubGreen); color: white; }
  .orbit-icon-industria:hover { background: var(--color-unirvBlue); color: white; }
  .orbit-icon-governo:hover { background: #eab308; color: white; }
  .orbit-icon-sociedade:hover { background: #a855f7; color: white; }

  /* 5. CORE LOGO */
  .orbit-core {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 6rem;
    height: 6rem;
    border-radius: 9999px;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 60px rgba(255, 255, 255, 0.35);
    z-index: 10;
  }

  .home-timeline {
    padding: 6rem 0;
    background: white;
  }

  .timeline-wrapper {
    position: relative;
  }

  .timeline-line-bg,
  .timeline-line-progress {
    position: absolute;
    top: 42px;
    left: 0;
    height: 4px;
    border-radius: 9999px;
  }

  .timeline-line-bg {
    width: 100%;
    background: #e2e8f0;
  }

  .timeline-line-progress {
    width: 40%;
    background: linear-gradient(90deg, var(--color-green), var(--color-unirvBlue));
  }

  .timeline-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .timeline-item {
      align-items: center;
      text-align: center;
    }
  }

  .timeline-icon {
    width: 4rem;
    height: 4rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.35rem;
    border: 4px solid white;
    box-shadow: 0 15px 30px rgba(15, 23, 42, 0.12);
    position: relative;
  }

  .timeline-icon.complete {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
  }

  .timeline-icon.active {
    background: linear-gradient(135deg, var(--color-unirvBlue), #1d4ed8);
    color: white;
  }

  .timeline-icon.upcoming {
    background: #e2e8f0;
    color: #475569;
  }

  .timeline-ping {
    position: absolute;
    inset: -6px;
    border-radius: 9999px;
    border: 1px solid rgba(59, 130, 246, 0.5);
    animation: ping 2s linear infinite;
  }

  .timeline-card {
    @apply bg-white rounded-[1.2rem] p-6 border border-slate-900/6 relative;
    box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
  }

  .timeline-card.active {
    @apply border-t-4 -translate-y-2;
    border-top-color: var(--color-agrohubBlue);
  }

  .timeline-card.muted {
    opacity: 0.7;
  }

  .timeline-flag {
    position: absolute;
    top: -0.65rem;
    right: 1rem;
    background: var(--color-green);
    color: white;
    font-size: 0.6rem;
    letter-spacing: 0.2em;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    text-transform: uppercase;
  }

  .timeline-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.9rem;
    border-radius: 9999px;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .timeline-tag.success {
    background: #dcfce7;
    color: #166534;
  }

  .timeline-tag.info {
    background: #e0f2fe;
    color: #1d4ed8;
  }

  .timeline-tag.neutral {
    background: #e2e8f0;
    color: #475569;
  }

  .home-cta {
    padding: 5rem 0;
    background: linear-gradient(120deg, #0a2558, #0f5ab4);
  }

  .reveal-up {
    opacity: 0;
    transform: translateY(30px);
  }

  /* ---------- Shared glassmorphism & blob utilities ---------- */

  /* Generic glass card container */
  .glass-card {
    @apply rounded-3xl border border-white/20 bg-white/10 backdrop-blur-xl shadow-xl;
  }

  .glass-card-solid {
    @apply rounded-3xl border border-gray-100 bg-white/90 backdrop-blur-xl shadow-xl;
  }

  /* Auth layout: full-screen gradient with animated blobs */
  .auth-layout {
    @apply min-h-screen flex items-center justify-center px-4 py-10 relative overflow-hidden;
    background: radial-gradient(circle at top left, #22c55e 0, #0f172a 35%, #020617 100%);
  }

  .auth-layout::before,
  .auth-layout::after {
    content: "";
    position: absolute;
    border-radius: 9999px;
    filter: blur(64px);
    opacity: 0.18;
    pointer-events: none;
  }

  .auth-layout::before {
    width: 420px;
    height: 420px;
    background: #22c55e;
    top: -120px;
    right: -80px;
    animation: blob 7s infinite;
  }

  .auth-layout::after {
    width: 520px;
    height: 520px;
    background: #38bdf8;
    bottom: -160px;
    left: -100px;
    animation: blob 9s infinite;
    animation-delay: 2s;
  }

  .auth-inner {
    @apply relative z-10 w-full max-w-md;
  }

  .auth-card {
    @apply rounded-3xl border border-gray-100 bg-white/90 backdrop-blur-xl shadow-xl p-8 md:p-10;
  }

  .auth-input {
    @apply h-12 w-full px-4 py-3 rounded-xl border border-gray-300 bg-white/90
    focus:outline-none focus:ring-2 focus:ring-unirvBlue focus:border-transparent
    text-gray-900 placeholder:text-gray-400 text-base;
    box-sizing: border-box;
  }

  .auth-label {
    @apply text-gray-100 md:text-gray-800 font-semibold text-sm mb-2;
    display: block;
  }

  .auth-muted {
    @apply text-sm text-gray-300 md:text-gray-600;
  }

  .auth-back-link {
    @apply inline-flex items-center gap-2 text-gray-200 md:text-gray-600 hover:text-green-300
    md:hover:text-unirvBlue transition-colors;
  }

  .auth-title {
    @apply text-2xl font-bold text-white md:text-unirvBlue;
  }

  .auth-gradient-cta {
    @apply w-full h-12 rounded-full bg-linear-to-r from-agrohubGreen to-unirvBlue
    text-white font-semibold shadow-lg hover:from-emerald-500 hover:to-blue-700
    transition-all flex items-center justify-center gap-2 text-base;
    min-height: 48px;
    box-sizing: border-box;
  }

  /* Background blobs utility for sections */
  .bg-blobs {
    position: relative;
    overflow: hidden;
  }

  .bg-blobs::before,
  .bg-blobs::after {
    content: "";
    position: absolute;
    border-radius: 9999px;
    filter: blur(64px);
    opacity: 0.16;
    pointer-events: none;
  }

  .bg-blobs::before {
    width: 560px;
    height: 560px;
    background: #22c55e;
    top: -180px;
    right: -160px;
  }

  .bg-blobs::after {
    width: 640px;
    height: 640px;
    background: #38bdf8;
    bottom: -220px;
    left: -180px;
  }

  /* Simple reusable blob animation (used in hero/startups/auth) */
  /* Optimized to prevent layout shifts: contain layout, will-change for transform */
  .animate-blob {
    animation: blob 7s infinite;
    will-change: transform;
    contain: layout style paint;
    /* Reserve space to prevent layout shifts */
    min-width: 600px;
    min-height: 600px;
  }

  .animate-blob-delay-1 {
    animation: blob 8s infinite;
    animation-delay: 2s;
    will-change: transform;
    contain: layout style paint;
    min-width: 600px;
    min-height: 600px;
  }

  .animate-blob-delay-2 {
    animation: blob 9s infinite;
    animation-delay: 4s;
    will-change: transform;
    contain: layout style paint;
    min-width: 600px;
    min-height: 600px;
  }

  .startups-stats-bar {
    font-variant-numeric: tabular-nums;
    contain: layout paint;
  }

  .startups-stats-bar .stat-value-number {
    min-width: 4ch;
    text-align: center;
  }

  #startups-grid {
    contain: layout paint;
  }

  .startup-card {
    @apply rounded-3xl border border-gray-100 bg-white shadow-lg transition-all duration-300;
    min-height: 420px;
    contain: layout paint;
    will-change: transform;
  }

  .startup-card img {
    aspect-ratio: 1 / 1;
    object-fit: cover;
    width: 64px;
    height: 64px;
  }

  .startup-logo-fallback {
    aspect-ratio: 1 / 1;
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .startup-card .phase-badge {
    min-height: 32px;
  }
}

@layer utilities {
  @keyframes float {
    0% {
      transform: translate(-50%, 0);
    }
    50% {
      transform: translate(-50%, -10px);
    }
    100% {
      transform: translate(-50%, 0);
    }
  }

  /* Blob morph animation shared across pages */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(24px, -40px) scale(1.08);
    }
    66% {
      transform: translate(-20px, 24px) scale(0.95);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  @keyframes ping {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }
}

/* Filter details - keep open on large screens (outside @layer for media queries) */
@media (min-width: 1024px) {
  .filter-details summary {
    pointer-events: none;
    cursor: default;
  }

  .filter-details summary::-webkit-details-marker {
    display: none;
  }
}
